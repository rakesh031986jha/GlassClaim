!function(a){"use strict";a(function(){var b=a(".home-hero");b[0]&&(a(window).on("resize",function(){var c=isNaN(window.innerWidth)?a(window).width():window.innerWidth,d=a(window).height(),e=768>c,f=992>c,g=a("#header").outerHeight(),h=d-g,i=a(".doormats-box").outerHeight(!0),j=a(".solutions-and-actions-box").outerHeight(!0);b.css("min-height",i+j+20+"px"),e?a(".home-hero, .mobile-hero").height(""):(b.height(f?"":h),b.find(".mobile-hero").height(f?h:a(".home-hero .doormats-box").position().top),b.find(".masked-text").height(f?h-j:""))}).resize(),a("html").hasClass("lt-ie9")&&setTimeout(function(){a(".quick-actions-links .quick-actions-list").length>0&&a(".quick-actions-list").find(">li:even").addClass("odd-child"),a(window).trigger("resize")},200))})}(window.jQuery),$(function(){$(".carousel-indicators li").keydown(function(a){if(32===a.keyCode||13===a.keyCode){var b=$(this),c=b.parents(".carousel"),d=c.find(".carousel-inner"),e=d.find(".item"),f=parseInt(b.data("slideTo"),10),g=d.find(".media-body");g.removeAttr("tabindex"),c.carousel(f),g=e.eq(f).find(".media-body"),g.attr("tabindex","-1").focus()}}),$(".carousel-control").keydown(function(a){if(32===a.keyCode||13===a.keyCode){var b=$(this),c=b.parents(".carousel"),d=c.find(".carousel-inner"),e=d.find(".active"),f=d.find(".item"),g=d.find(".media-body"),h=e.index(),i=b.data("slide"),j=0,k=f.length-1;g.removeAttr("tabindex"),"prev"===i&&(h>j?g=f.eq(h-1).find(".media-body"):j>=h&&(g=f.eq(k).find(".media-body"))),"next"===i&&(k>h?g=f.eq(h+1).find(".media-body"):h>=k&&(g=f.eq(j).find(".media-body"))),c.carousel(i),g.attr("tabindex","-1").focus()}}),$(".carousel .media-body a").keydown(function(a){if(9===a.keyCode&&!a.shiftKey){a.preventDefault();var b=$(this),c=b.parents(".carousel"),d=c.find(".carousel-indicators li"),e=c.find(".item"),f=b.parents(".item"),g=f.index(),h=e.length,i=d.eq(g+1);g>=h-1&&(i=c.find(".right")),i.focus()}})}),function(a){"use strict";function b(){var b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b>=320&&767>=b?c===!1&&(a(".our-people .nav-pills li a, .pgim-navs .nav-tabs li a").each(function(){var b=a(this).html().replace(" ","<br>");a(this).html(b)}),c=!0):a(".our-people .nav-pills li a, .pgim-navs .nav-tabs li a").each(function(){var b=a(this).html().replace("<br>"," ");a(this).html(b)})}a(document).ready(function(){b()}),a(window).resize(function(){b()});var c=!1}(window.jQuery),function(a){"use strict";function b(b,c){var d=a(window).width(),e=b.closest(".panel").parent(),f=b.attr("aria-controls");if(d>=320&&767>=d)a("#"+f).insertAfter(e);else if(d>=768&&992>=d)a("#"+f).insertAfter(a(".our-business-panel-items .tiles").find("a").index(b)%2===0?e.next():e);else{var g=4,h=a(".our-business-panel-items .tiles").find("a").index(b),i=Math.floor(h/g),j=(i+1)*g-1,k=a(".our-business-panel-items .tiles").find("a").get(j);a("#"+f).insertAfter(a(k).closest(".panel").parent())}null!==c&&c||a.event.trigger("evt-our-business-panel",[f])}var c=a(".our-business-panel-items .tiles");c.find("a").on("click",function(){var c=a(this),d=c.attr("aria-controls");c.find("i").toggleClass("fa-plus-circle fa-minus");var e=c.hasClass("showDetail")?" Show Details":" Hide Details";c.find("span").text(e),c.toggleClass("showDetail"),a.each(a(".our-business-panel-items .tiles").find("a"),function(){var b=a(this),c=b.attr("aria-controls");d!==c&&(b.removeClass("showDetail"),b.find("i").addClass("fa-plus-circle").removeClass("fa-minus"),b.find("span").text(" Show Details"),a("#"+c).removeClass("collapse in").addClass("collapse"))}),b(c);var f=a(window).width();f>=320&&767>=f&&window.scrollTo(0,c.parent().parent().offset().top)}),a(window).resize(function(){var c=a(".our-business-panel-items .tiles").find("a.showDetail");b(c,!0)}),a(".our-business-panel-items .panel-body a").click(function(){var b=a(this);a(".our-business-panel-items .panel-body a").removeAttr("aria-selected"),a(".our-business-panel-items .panel-body a").attr("aria-selected","false"),b.attr("aria-selected","true"),b.attr("tabindex","0")}),c.anchor()}(window.jQuery),$(document).ready(function(){var a=$(window).width();a>767&&$("#collapsible-content").insertAfter("#biography-content")}),function(a){"use strict";a.module("pru.com.gaq",[]).controller("GAQController",["$scope","PruURLS","ZipService",function(a,b,c){a.validate=function(d){if(d.$submitted=!0,d.$valid&&a.invalidezip!==a.gaqzip){var e=window.open("");b.load().then(function(b){c.validate(a.gaqzip,function(c){if(200===parseInt(c.zipCodeValidatorResponse.responseCode)){var d=$(window).width()<=767?!0:!1,f=d?"GetQuote_Mobile":"GetQuote_Desktop",g=d?"":"#gqQuote2";e.location=b.pages[f]+a.gaqzip+g}else a.invalidezip=a.gaqzip,e.close()},function(){a.invalidezip=a.gaqzip,e.close()})})}}}])}(window.angular),function(a){"use strict";a(document).ready(function(){a(document).on("click","*[data-clickable]",function(b){var c=a(this).data("clickable");if(!c)throw new Error("Must enter a target anchor selector.");var d=a(this).find(c).first();(d.length||(d=a(this).next("[data-clickable]").find(c).first(),d.length))&&b.target!==d[0]&&d[0].click()})})}(window.jQuery),function(a,b){"use strict";a.module("pru.com.login.page",["pru.com.login.service","pru.com.loginsiteminder.service"]).controller("Login",["$scope","$window","LoginService","LoginSiteminderService",function(a,c,d,e){a.user={username:"",password:""},a.login=function(c){function f(b){a.loading=!1,a.error={hash:(new Date).getTime(),message:b}}c.$$submitted=a.loading=!0,a.user.name&&a.user.password?d.validate(a.user,function(c){var d=/RSPAR|POL/,g=c.length>=1&&d.test(c[0].idType),h=c.length>1&&d.test(c[1].idType);if(g&&h)a.loading=!1,a.error=!1,$("#accountSelectorModal").modal("show");else if(g||h){try{window.loginDL={category:"Login",label:g?"RSPAR":"POL",action:"Login Authentication"},b.ensEvent.trigger("loginAuthentication")}catch(i){}e.validate(a.user,c[0].idType,f)}},f):a.loading=!1}}]).controller("LoginModals",["$scope",function(a){a.pageBtnModalGetHelp=function(a){var b=$("#getHelpPage").removeClass("fade"),c=$(a).removeClass("fade");c.on("hidden.bs.modal",function(){b.modal("show"),c.off("hidden.bs.modal")}),b.on("shown.bs.modal",function(){b.addClass("fade"),$(".modal-backdrop").addClass("fade")}),c.modal("hide").addClass("fade")}}])}(window.angular,window.Bootstrapper),function(a){"use strict";a.module("pru.com.allacclogin.page",[]).controller("allAccLoginController",["$scope","$window","PruURLS",function(a,b,c){c.load().then(function(c){a.navigatePage=function(a){b.open(c.pages[a],"_blank")},a.navigateNewWindow=function(a){b.open(c.pages[a],"_blank")}})}])}(window.angular),function(a){"use strict";a.module("pru.com.login.service",[]).factory("LoginService",["PruHTTP",function(a){return{validate:function(b,c,d){function e(){d("We are unable to verify your Username and Password. Please try again.")}a.post("services.login.idtypes",{getIdTypeRequest:{idtypes:["RSPAR","POL"],userName:b.name}}).then(function(a){a&&a.getIdTypeResponse&&200===parseInt(a.getIdTypeResponse.responseCode)&&a.getIdTypeResponse.userIds?c(a.getIdTypeResponse.userIds):e()})["catch"](e)}}}])}(window.angular),function(a){"use strict";var b=function(){};a.module("pru.com.loginsiteminder.service",[]).factory("LoginSiteminderService",["$window","PruHTTP","PruURLS",function(a,b,c){var e,f;return c.load().then(function(a){f=a.services.login.siteminderhostenv,e={CHANGEPASSWORD:{RSPAR:a.pages.RetirementChangePasswordSSOPage+"${name}",POL:a.pages.PruOnlineChangePasswordSSOPage+"${name}"},SMSESSION:{RSPAR:a.pages.RetirementDashboardPage,POL:a.pages.PruOnlineDashboardPage}}}),{validate:function(c,g,h){b.post("services.login.siteminderauthjsp","u="+encodeURIComponent(/RSPAR/.test(g)?c.name.toLowerCase():c.name)+"&p="+encodeURIComponent(c.password)+"&b="+g+"&e="+f,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(b){var f=((b||"").match(/CHANGEPASSWORD|SMSESSION/)||[])[0],i=e[f]&&e[f][g];return i?void(a.location.href=i.replaceMatches(c)):d(h,b)})["catch"](function(){d(h)})}}}]);var c=function(){var c=[{codes:["BADCRED",7,16,17,24,25],message:"We are unable to verify your Username and Password. Please try again."},{codes:[40],message:"As a security measure, we ended your Account Access session after a period of extended inactivity. This protects the information in your Prudential Online Account. When you are ready to continue, please login again."}];a.forEach(c,function(c){a.forEach(c.codes,function(a){(window.ssoSetErrorMessage||b)(a,c.message)})})},d=function(a,d){c(),d=d||"";var e=d.split("|")[1];a((window.ssoGetErrorMessage||b)(e)||"UnExpected Error Occured , Please try Again")}}(window.angular),function(a,b,c){"use strict";a.module("pru.com.ffp",["pru.com.geolocation","pru.com.utils.render","pru.com.utils.urls"]).directive("flexiblePholder",["$window",function(b){return{restrict:"EA",scope:!1,link:function(c,d){c.onResize=function(){d.width()>200?d.attr("placeholder","Financial Professional Name"):d.attr("placeholder","Name")},c.onResize(),a.element(b).bind("resize",function(){c.onResize()})}}}]).controller("mffpController",["$scope","FFPGeocoderService","ffpinputmodule","$timeout","Geolocation","PruURLS",function(d,e,f,g,h,i){i.load().then(function(a){d.landffpPage=a.pages.FindFinancialProfessional}),d.searchBy="bylocation",d.ffpsearchtermLocation="",d.ffpsearchtermName="",d.myPosition="",d.myLat="",d.myLng="";var j,k,l=document.getElementById("inputTermLocation"),m={componentRestrictions:{country:"us"},types:["(regions)"]};d.enableGoogleAutocomplete=function(a,b,c){f.enableGoogleAutocomplete(a,b,c,m,function(a){d.$apply(function(){d.ffpsearchtermLocation=a})})},d.enableGoogleAutocomplete(j,k,l),d.switchsearch=function(c){var e=c.currentTarget||c.target,h=a.element("#inputTermName"),i=b(e);d.searchBy=i.attr("class"),f.switchsearch(i,function(b){"byname"===b?(h.closest(".input-group").width()>200?h.attr("placeholder","Financial Professional Name"):h.attr("placeholder","Name"),g(function(){a.element("#inputTermName").focus(),d.onResize()},100)):g(function(){a.element("#inputTermLocation").focus()},100)})},d.keynav=function(a){f.keynav(a,function(a){d.searchBy=a,"byname"===a?g(function(){$("#inputTermName").focus(),d.onResize()},100):g(function(){$("#inputTermLocation").focus()},100),d.onResize()})},a.element(document).ready(function(){var a=!1;if($("#moduleMap").length>0){a=!0;var b=new c.maps.LatLng(40.735657,-74.172367),f={zoom:8,center:b,mapTypeControl:!0,mapTypeControlOptions:{style:c.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:!0,mapTypeId:c.maps.MapTypeId.ROADMAP},i=document.getElementById("moduleMap"),j=new c.maps.Map(i,f);c.maps.event.addDomListener(window,"resize",function(){j.setCenter(b)})}var k="";h.currentAddress(function(b){g(function(){if(k=new c.maps.LatLng(b.latitude,b.longitude),d.myLat=b.latitude,d.myLng=b.longitude,d.myPosition=b.city+", "+b.state+" "+b.zip,d.ffpsearchtermLocation=d.myPosition,a){var f={startIndex:"1",endIndex:"30",location:{latitude:d.myLat.toString(),longitude:d.myLng.toString(),miles:"2500"}},g="#moduleMap";e.ffp(g,f,d.ffpsearchtermLocation,function(a){d.offices=a.financialProfessionalResponse.financialProfessionals.financialProfessional.slice(0,5),d.mylocation={latitude:d.myLat.toString(),longitude:d.myLng.toString()},"bylocation"===d.searchBy&&(e.initMap(g,d.mylocation,!0),e.drawmap(g,d.offices,0,!0))},function(){})}},0)})}),d.landffp=function(a){a.preventDefault();var b="bylocation"===d.searchBy?d.ffpsearchtermLocation:d.ffpsearchtermName;window.location=d.landffpPage+"?type="+d.searchBy+"&term="+b+"&myPos="+d.myPosition+"&myLat="+d.myLat+"&myLng="+d.myLng}}]).controller("FFPController",["$scope","$http","$timeout","FFPGeocoderService","ffpinputmodule","Geolocation","PruURLS",function(c,d,e,f,g,h,i){i.load().then(function(a){c.legacyImages=a.resources.images.legacy,c.profilepages=a.pages.profilepages}),c.getParameterByName=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},a.element(document).ready(function(){window.location.search&&c.$apply(function(){c.searchBy=c.getParameterByName("type"),"bylocation"===c.searchBy?c.ffpsearchtermLocation=c.getParameterByName("term"):c.ffpsearchtermName=c.getParameterByName("term"),c.myPosition=c.getParameterByName("myPos"),c.myLat=c.getParameterByName("myLat"),c.myLng=c.getParameterByName("myLng"),c.userrange=c.myPosition}),c.searchBy||(c.searchBy="bylocation");var d=b("li."+c.searchBy);if(d.is(":last-child")){var f=d.parent();d.prependTo(f)}"byname"===c.searchBy&&c.showfilters(),c.ffpsearchtermLocation||c.ffpsearchtermName?a.element("#btn-ffp").trigger("click"):c.myPosition||h.currentAddress(function(a){e(function(){c.myPosition=a.city+","+a.state+","+a.zip,c.ffpsearchterm=c.myPosition,c.userrange=c.myPosition,c.myLat=a.latitude,c.myLng=a.longitude},0)})}),c.searchbtntxt="Start Search",c.checkedfilters=[],c.updatebtn=function(a){c.searchbtntxt="Update Search";var b=a.currentTarget||a.target;if(b.checked)c.checkedfilters.push(a.target.value);else{var d=$.inArray(a.target.value,c.checkedfilters);-1!==d&&c.checkedfilters.splice(d,1)}},c.filterdistance=[5,10,25,50],c.updatedistance=function(){c.searchdistance=this.userdistance},c.filtergroups=[],i.load().then(function(a){d({method:"GET",url:a.services.ffp.filters,headers:{"X-PruComponentID":"ffpFilterSearach"},timeout:16e3}).success(function(a){c.filtergroups=a})}),c.pagination={max:30,perpage:5},c.ffp=function(){c.offices="",c.ffperror="",c.ffpsearchterm=$(".ffpInputBox:visible").val(),c.showmap="bylocation"===c.searchBy||"byname"===c.searchBy&&c.userrange?!0:!1;var a="#mapcanvas",b="",d={startIndex:"1",endIndex:"30"};if(c.checkedfilters.length>0&&(d.products=c.checkedfilters.join("|")),"byname"===c.searchBy){var g=c.ffpsearchtermName,h=g.indexOf(" ");if(d.personName={firstName:g,lastName:""},h>0&&(d.personName.firstName=g.substr(0,h),d.personName.lastName=g.substr(h+1)),c.userrange)d.location=c.searchdistance?{miles:c.searchdistance.toString()}:{miles:"50"},b=c.userrange;else if(c.searchdistance)return void e(function(){$("#progressModal").modal("hide"),c.ffperror="Please enter a valid location."},600)}else d.location={miles:"2500"},c.searchdistance&&(d.location.miles=c.searchdistance.toString()),b=c.ffpsearchtermLocation;f.ffp(a,d,b,function(b){c.officeResponse=b.financialProfessionalResponse,c.officenum=parseInt(c.officeResponse.totalNumberOfMatchingRecords),c.officenum=c.officenum<c.pagination.max?c.officenum:c.pagination.max,c.alloffices=c.officeResponse.financialProfessionals.financialProfessional.slice(0,c.pagination.max),c.pagination.end=c.officenum>c.pagination.perpage?c.pagination.perpage:c.officenum,c.offices=c.alloffices.slice(0,c.pagination.end),c.mylocation=c.offices[0].party.location,c.showmap&&(f.initMap(a,c.mylocation,!1),f.drawmap(a,c.offices,0))},function(){e(function(){c.ffperror="No results found, please try again."},0)})},c.highlightMarker=f.highlightMarker,c.directionsLink=function(a,b){b.preventDefault();var d=c.myLat?c.myLat+",":"",e=c.myLng?c.myLng:"",f="https://maps.google.com?saddr="+d+e+"&daddr="+a.latitude+","+a.longitude;window.open(f)},c.addressdirectionsLink=function(a,b){if(b.preventDefault(),$(window).width()<=1200){var d=c.officeResponse.requestParameters.location,e="https://maps.google.com?saddr="+d.latitude+","+d.longitude+"&daddr="+a.latitude+","+a.longitude;window.open(e)}},c.loadMore=function(a){if(c.alloffices){var b="#mapcanvas";c.pagination.start=c.pagination.end,c.pagination.end=c.pagination.end+a,c.offices=c.offices.concat(c.alloffices.slice(c.pagination.start,c.pagination.end)),"bylocation"===c.searchBy&&f.drawmap(b,c.offices,c.pagination.start)}},c.howManyMoreShouldLoad=function(){var a=c.pagination.perpage;return c.alloffices?c.pagination.end+a<c.officenum?a:c.officenum-c.pagination.end:0},c.$on("pruFinishedRender",function(){});var j,k,l,m,n=document.getElementById("inputTermLocation"),o=document.getElementById("distancefromzip"),p={componentRestrictions:{country:"us"},types:["(regions)"]};c.enableGoogleAutocomplete=function(a,b,d){g.enableGoogleAutocomplete(a,b,d,p,function(a){c.$apply(function(){"distancefromzip"===d.id&&(c.userrange=a),"inputTermLocation"===d.id&&(c.ffpsearchtermLocation=a)})})},c.enableGoogleAutocomplete(k,j,n),c.enableGoogleAutocomplete(m,l,o),c.switchsearch=function(a){var d=a.currentTarget||a.target,f=b(d);g.switchsearch(f,function(a){c.searchBy=a,"byname"===a?e(function(){$("#inputTermName").focus()},100):e(function(){$("#inputTermLocation").focus()},100)}),c.showfilters()},c.showfilters=function(){b(window).width()<751?("byname"===c.searchBy&&b(".filterdistance").removeClass("toshow"),"bylocation"===c.searchBy&&b(".filterdistance").addClass("toshow")):("byname"===c.searchBy&&b(".filters").is(":hidden")&&a.element(".showfilter a").trigger("click"),"bylocation"===c.searchBy&&b(".filters").is(":visible")&&a.element(".showfilter a").trigger("click"))},c.keynav=function(a){g.keynav(a,function(a){c.searchBy=a,"byname"===a?e(function(){$("#inputTermName").focus()},100):e(function(){$("#inputTermLocation").focus()},100)})},c.resetfilter=function(a){a.preventDefault();var d=b(".filters");b("input",d).prop("checked",!1),b("input:text",d).val(""),c.userdistance="",c.searchdistance="",c.checkedfilters=[],c.userrange=""},c.ffpInvalid=function(){return!("bylocation"===c.searchBy&&c.ffpsearchtermLocation||"byname"===c.searchBy&&c.ffpsearchtermName)},c.ffpKeyUp=function(a){var b=13===a.keyCode?!0:!1;b&&!c.ffpInvalid()&&($("#progressModal").modal("show"),c.ffp())}}]).factory("ffpinputmodule",function(){return{enableGoogleAutocomplete:function(a,b,d,e,f){c&&(a=new c.maps.places.Autocomplete(d,e),b=c.maps.event.addListener(a,"place_changed",function(){var b="formatted_address";f(a.getPlace()[b])}))},switchsearch:function(a,b){var c=a.closest("ul"),d=a.closest("#formbox");if(d.hasClass("selectoropen")){if(d.removeClass("selectoropen"),!a.is(":first-child")){var e=a.attr("class");a.clone(!0).prependTo(c),a.remove(),d.attr("class",e),b(e)}}else d.addClass("selectoropen")},keynav:function(a,c){var d=a.currentTarget||a.target,e=b(d),f=e.closest("#formbox"),g=a.keyCode,h=e.closest("ffpmodule"),i=$(".ffpInputBox");switch(h.length>0&&(i=$(".ffpInputBox",h)),g){case 40:a.preventDefault(),e.is(":first-child")&&(f.addClass("selectoropen"),e.next().focus());break;case 38:a.preventDefault(),e.is(":last-child")&&e.prev().focus();break;case 13:a.preventDefault(),f.hasClass("selectoropen")?e.is(":first-child")?(f.removeClass("selectoropen"),i.focus()):(this.switchsearch(e,c),c(e.attr("class"))):i.focus()}}}}).factory("FFPGeocoderService",["$http","$timeout","Geolocation","PruURLS",function(a,d,e,f){var g,h,i,j,k,l,m,n={zoom:8,maxZoom:16,mapTypeControl:!0,center:m,mapTypeControlOptions:{style:c.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:!0,mapTypeId:c.maps.MapTypeId.ROADMAP},o={callffp:function(b,c){f.load().then(function(e){a({url:e.services.ffp.search,method:"post",headers:{"X-PruComponentID":"ffpSearch"},data:b}).success(function(a){d(function(){$("#progressModal").modal("hide");var b=parseInt(a.financialProfessionalResponse.responseCode);200===b?parseInt(a.financialProfessionalResponse.totalNumberOfMatchingRecords)>0?c(!0,b,a):c(!1,b):c(!0,b)},600)}).error(function(a,b){d(function(){$("#progressModal").modal("hide"),c(!1,b)},600)})})}};return{ffp:function(a,b,c,d,f){c.length>0?e.getcoordinates(c,function(a,c){"OK"!==a?($("#progressModal").modal("hide"),f()):(b.location.latitude=c.lat().toString(),b.location.longitude=c.lng().toString(),o.callffp(b,function(a,b,c){a&&200===b?d(c):f()}))}):o.callffp(b,function(a,b,c){a&&200===b?d(c):f()})},initMap:function(a,b,d){$(a).html(""),m=new c.maps.LatLng(b.latitude,b.longitude),i=new c.maps.Map($(a)[0],n),j=new c.maps.LatLngBounds,k=new c.maps.InfoWindow,g=[],l=[],h=-1,d&&new c.maps.Marker({position:m,map:i,title:"My location"}),c.maps.event.addListenerOnce(i,"idle",function(){c.maps.event.trigger(i,"resize"),i.setCenter(m),j.extend(m),i.fitBounds(j),g.length<2&&i.setZoom(8)})},drawmap:function(a,b,d,e){for(var f=d;f<b.length;f++){var g=b[f],h=g.party.location,i={};i.name=g.party.personName.displayName,i.order=f+1,i.lat=h.latitude,i.lng=h.longitude,i.myLatlng=new c.maps.LatLng(h.latitude,h.longitude),i.address=h.addressLine1+" "+h.addressLine2+","+h.city+" "+h.State+" "+h.zipCode,this.mapClickEvent(a,i,f,e)}},mapClickEvent:function(a,b,d,e){var m="<b>"+b.name+"</b><br />"+b.address,n=new c.maps.Marker({position:b.myLatlng,map:i,title:b.name,id:d,canvas:a});f.load().then(function(a){n.setIcon(a.resources.images.wcmsp.ffp+"/map/dot-"+b.order+".png")}),g[d]=n,l[d]=m,j.extend(b.myLatlng),i.fitBounds(j),i.setCenter(j.getCenter()),e||c.maps.event.addListener(n,"click",function(a){return function(){var b=this.id,c=b+1,d="#fpcard"+c,e=this.canvas;if(b!==h){var j=h;f.load().then(function(b){if(j>=0){var d=g[j],e=b.resources.images.wcmsp.ffp+"/map/dot-"+(j+1)+".png";d.setIcon(e)}var f=b.resources.images.wcmsp.ffp+"/map/hl-dot-"+c+".png";a.setIcon(f)}),$(".callbg").removeClass("hl-callnumber"),$(d).find(".callbg").addClass("hl-callnumber"),h=b}var l=$(d).offset().top,n=$(window).width(),o=$(".topnav").outerHeight();if(n>768&&1200>=n)l=l-$(e).outerHeight()-o,$("html , body").animate({scrollTop:l},200);else if(n>1200){var p=$(window).scrollTop();l>=p?$("#global-links-bar").is(":visible")&&(o-=$("#global-links-bar").outerHeight()):$("#global-links-bar").is(":hidden")&&(o+=$("#global-links-bar").outerHeight()),l-=o,$("html , body").animate({scrollTop:l},200)}n>992&&(k.setContent(m),k.open(i,a))}}(n))},highlightMarker:function(a){var d=a.currentTarget||a.target,e=b(d),j=parseInt(e.text()),m=j-1;$(".callbg").removeClass("hl-callnumber"),e.find(".callbg").addClass("hl-callnumber"),$(window).width()>992&&(k.setContent(l[m]),k.open(i,g[m]));var n=g[m].getPosition();i.setZoom(8),i.panTo(new c.maps.LatLng(n.lat(),n.lng()));var o=h;f.load().then(function(a){var b=a.resources.images.wcmsp.ffp+"/map/hl-dot-"+j+".png",c=a.resources.images.wcmsp.ffp+"/map/dot-"+(o+1)+".png";o>=0&&g[o].setIcon(c),g[m].setIcon(b)}),h=m}}}])}(window.angular,window.jQuery,window.google),function(a,b,c){"use strict";a.module("pru.com.ffpNew",["pru.com.geolocation","pru.com.utils.render","pru.com.utils.urls","ui.bootstrap.pagination"]).controller("FFPControllerNew",["$scope","$http","$timeout","$log","FFPGeocoderServiceAnnuities","ffpinputmoduleAnnuities","Geolocation","PruURLS",function(d,e,f,g,h,i,j,k){function l(a){var b=(a-1)*d.itemsPerPage,c=a*d.itemsPerPage;return d.offices&&c>d.offices.length&&(c=d.offices.length),{start:b,end:c}}k.load().then(function(a){d.legacyImages=a.resources.images.legacy,d.profilepages=a.pages.profilepages}),d.viewby=10,d.totalItems=30,d.currentPage=1,d.itemsPerPage=10,d.cardNumber=1,d.maxSize=5,d.getOfficesByPage=function(a){var b=[];return d.offices&&(d.resultOffset=l(a),b=d.offices.slice(d.resultOffset.start,d.resultOffset.end)),b},d.setPage=function(a){d.currentPage=a},d.pageChanged=function(){var a="#mapAnnu",c=".form-group",e=b(c),g=e.offset().top-e.outerHeight();b(window).scrollTop(g);var i={startIndex:"1",endIndex:"30"};i.location={miles:"100"};var j=d.ffpsearchtermLocation;h.ffp(a,i,j,function(b,c){d.offices=b.financialProfessionals,d.showOffice=d.offices.slice((d.currentPage-1)*d.itemsPerPage,d.currentPage*d.itemsPerPage),d.showmap&&(h.initMap(a,c),h.drawmap(a,d.showOffice,0,(d.currentPage-1)*d.itemsPerPage)),d.searchLocation=c},function(){f(function(){d.ffperror="Your search for"+d.ffpsearchtermLocation+"did not return any results. Please try again"},0)})},d.getParameterByName=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},window.location.search&&(d.ffpsearchtermLocation=d.getParameterByName("term")),d.searchBy||(d.searchBy="bylocation");var m=b("li."+d.searchBy);if(m.is(":last-child")){var n=m.parent();m.prependTo(n)}if(d.ffpsearchtermLocation){var o,p=new c.maps.Map(document.getElementById("mapAnnu"),{center:{lat:37.09024,lng:-95.712891},zoom:4,scrollwheel:!1});c.maps.event.addDomListener(p,"idle",function(){o=p.getCenter()}),c.maps.event.addDomListener(window,"resize",function(){p.setCenter(o)}),f(function(){a.element("#btn-ffp-allAdvisors").trigger("click")},0)}else if(d.myPosition||j.currentAddress(function(a){f(function(){d.myPosition=a.city+","+a.state+","+a.zip,d.ffpsearchterm=d.myPosition,d.userrange=d.myPosition,d.myLat=a.latitude,d.myLng=a.longitude},0)}),navigator.geolocation){var q,r=new c.maps.Map(document.getElementById("mapAnnu"),{center:{lat:37.09024,lng:-95.712891},zoom:4,scrollwheel:!1});c.maps.event.addDomListener(r,"idle",function(){q=r.getCenter()}),c.maps.event.addDomListener(window,"resize",function(){r.setCenter(q)}),navigator.geolocation.getCurrentPosition(function(a){function b(){h=i.getCenter()}var e=new c.maps.Geocoder,g=new c.maps.LatLng(a.coords.latitude,a.coords.longitude);e.geocode({latLng:g},function(a,b){if(b===c.maps.GeocoderStatus.OK)if(a[0]){var e=a[0].formatted_address,g=e.split(","),h=g.length,i=g[h-3];console.log("city name is: "+i),f(function(){d.ffpsearchtermLocation=i},0)}else{console.log("address not found");var j,k=new c.maps.Map(document.getElementById("mapAnnu"),{center:{lat:37.09024,lng:-95.712891},zoom:4,scrollwheel:!1});c.maps.event.addDomListener(k,"idle",function(){j=k.getCenter()}),c.maps.event.addDomListener(window,"resize",function(){k.setCenter(j)})}else{console.log("Geocoder failed due to: "+b);var l,m=new c.maps.Map(document.getElementById("mapAnnu"),{center:{lat:37.09024,lng:-95.712891},zoom:4,scrollwheel:!1});c.maps.event.addDomListener(m,"idle",function(){l=m.getCenter()}),c.maps.event.addDomListener(window,"resize",function(){m.setCenter(l)})}}),d.mylocation={latitude:a.coords.latitude,longitude:a.coords.longitude};var h,i=new c.maps.Map(document.getElementById("mapAnnu"),{center:{lat:a.coords.latitude,lng:a.coords.longitude},zoom:13,maxZoom:21,scrollwheel:!1});c.maps.event.addDomListener(i,"idle",function(){b()}),c.maps.event.addDomListener(window,"resize",function(){i.setCenter(h)});var j=new c.maps.LatLng(a.coords.latitude,a.coords.longitude);k.load().then(function(a){var b=a.resources.images.wcmsp.ffp+"/map/you_are_here_pin.png";new c.maps.Marker({position:j,map:i,icon:b,title:"My location"})})},function(a){console.log("Error occurred. Error Message: "+a.message);var b,d=new c.maps.Map(document.getElementById("mapAnnu"),{center:{lat:37.09024,lng:-95.712891},zoom:4,scrollwheel:!1});c.maps.event.addDomListener(d,"idle",function(){b=d.getCenter()}),c.maps.event.addDomListener(window,"resize",function(){d.setCenter(b)})})}else{console.log("no geolocation support");var s,t=new c.maps.Map(document.getElementById("mapAnnu"),{center:{lat:37.09024,lng:-95.712891},zoom:4,scrollwheel:!1});c.maps.event.addDomListener(t,"idle",function(){s=t.getCenter()}),c.maps.event.addDomListener(window,"resize",function(){t.setCenter(s)})}d.searchbtntxt="Search",d.checkedfilters=[],d.updatebtn=function(a){d.searchbtntxt="Update Search";var b=a.currentTarget||a.target;if(b.checked)d.checkedfilters.push(a.target.value);else{var c=$.inArray(a.target.value,d.checkedfilters);-1!==c&&d.checkedfilters.splice(c,1)}},k.load().then(function(a){e({method:"GET",url:a.services.ffp.filters,headers:{"X-PruComponentID":"ffpFilterSearach"},timeout:16e3}).success(function(a){d.filtergroups=a})}),d.filterLicense=function(a){return a.split(",").join(", ")},d.ffp=function(){d.loading=!0,d.offices="",d.ffperror="",d.ffpsearchterm=$(".ffpInputBox:visible").val(),d.showmap="bylocation"===d.searchBy||"byname"===d.searchBy&&d.userrange?!0:!1;var a="#mapAnnu",b="",c={startIndex:"1",endIndex:"30"};d.checkedfilters.length>0&&(c.products=d.checkedfilters.join("|")),c.location={miles:"100"},d.searchdistance&&(c.location.miles=d.searchdistance.toString()),b=d.ffpsearchtermLocation,h.ffp(a,c,b,function(b,c){d.searchLocation=c,d.offices=b.financialProfessionals,d.showOffice=d.offices.slice((d.currentPage-1)*d.itemsPerPage,d.currentPage*d.itemsPerPage),d.showmap&&(h.initMap(a,c),h.drawmap(a,d.showOffice,0,0)),d.loading=!1,f(function(){d.loading=!1},0)},function(){f(function(){d.ffperror="Your search for "+d.ffpsearchtermLocation+" did not return any results. Please try again",d.loading=!1},0)})},d.highlightMarker=h.highlightMarker,d.directionsLink=function(a,b){b.preventDefault();var c=d.myLat?d.myLat+",":"",e=d.myLng?d.myLng:"",f="https://maps.google.com?saddr="+c+e+"&daddr="+a.latitude+","+a.longitude;window.open(f)},d.addressdirectionsLink=function(a){var b=d.searchLocation,c="https://maps.google.com?saddr="+b.latitude+","+b.longitude+"&daddr="+a.latitude+","+a.longitude;return c},d.loadMore=function(a){if(d.alloffices){var b="#mapcanvas";d.pagination.start=d.pagination.end,d.pagination.end=d.pagination.end+a,d.offices=d.offices.concat(d.alloffices.slice(d.pagination.start,d.pagination.end)),"bylocation"===d.searchBy&&h.drawmap(b,d.offices,0,10)}},d.$on("pruFinishedRender",function(){});var u,v,w=document.getElementById("inputTermLocation"),x={componentRestrictions:{country:"us"},types:["(regions)"]};d.enableGoogleAutocomplete=function(a,b,c){i.enableGoogleAutocomplete(a,b,c,x,function(a){var b=$(".pac-container .pac-item:first").text(),e=$(".pac-container .pac-item:first .pac-item-query").text(),f=e.length,g=null;b&&e&&(g=[b.slice(0,f)," ",b.slice(f)].join("")),a?(d.$apply(function(){"distancefromzip"===c.id&&(d.userrange=a),"inputTermLocation"===c.id&&(d.ffpsearchtermLocation=a)}),d.errorLocation=!1):g?(d.$apply(function(){"distancefromzip"===c.id&&(d.userrange=g),"inputTermLocation"===c.id&&(d.ffpsearchtermLocation=g)}),d.errorLocation=!1):g||a||(d.errorLocation=!0)})},d.enableGoogleAutocomplete(v,u,w),d.switchsearch=function(a){var c=a.currentTarget||a.target,e=b(c);i.switchsearch(e,function(a){d.searchBy=a,"byname"===a?f(function(){$("#inputTermName").focus()},100):f(function(){$("#inputTermLocation").focus()},100)}),d.showfilters()},d.keynav=function(a){i.keynav(a,function(a){d.searchBy=a,"byname"===a?f(function(){$("#inputTermName").focus()},100):f(function(){$("#inputTermLocation").focus()},100)})},d.ffpInvalid=function(){return!("bylocation"===d.searchBy&&d.ffpsearchtermLocation||"byname"===d.searchBy&&d.ffpsearchtermName)},d.ffpKeyUp=function(a){var b=13===a.keyCode?!0:!1;b&&!d.ffpInvalid()&&($("#progressModal").modal("show"),d.ffp())}}]).filter("titleCase",function(){return function(a){return a=a||"",a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}}).factory("ffpinputmoduleAnnuities",function(){return{enableGoogleAutocomplete:function(a,b,d,e,f){a=new c.maps.places.Autocomplete(d,e),b=c.maps.event.addListener(a,"place_changed",function(){var b="formatted_address";f(a.getPlace()[b])})},switchsearch:function(a,b){var c=a.closest("ul"),d=a.closest("#formbox");if(d.hasClass("selectoropen")){if(d.removeClass("selectoropen"),!a.is(":first-child")){var e=a.attr("class");a.clone(!0).prependTo(c),a.remove(),d.attr("class",e),b(e)}}else d.addClass("selectoropen")},keynav:function(a,c){var d=a.currentTarget||a.target,e=b(d),f=e.closest("#formbox"),g=a.keyCode,h=e.closest("ffpmodule"),i=$(".ffpInputBox");switch(h.length>0&&(i=$(".ffpInputBox",h)),g){case 40:a.preventDefault(),e.is(":first-child")&&(f.addClass("selectoropen"),e.next().focus());break;case 38:a.preventDefault(),e.is(":last-child")&&e.prev().focus();break;case 13:a.preventDefault(),f.hasClass("selectoropen")?e.is(":first-child")?(f.removeClass("selectoropen"),i.focus()):(this.switchsearch(e,c),c(e.attr("class"))):i.focus()}}}}).factory("FFPGeocoderServiceAnnuities",["$http","$timeout","Geolocation","PruURLS",function(a,d,e,f){var g,h,i,j,k,l,m,n={zoom:8,maxZoom:21,mapTypeControl:!0,scrollwheel:!1,center:m,mapTypeControlOptions:{
style:c.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:!0,mapTypeId:c.maps.MapTypeId.ROADMAP},o={callffp:function(b,c){f.load().then(function(e){a({url:e.services.ffp.annuities,method:"POST",headers:{"X-PruComponentID":"ffpSearch"},data:b}).success(function(a){d(function(){$("#progressModal").modal("hide");var b=parseInt(a.responseHeader.responseCode);200===b?parseInt(a.totalNumberOfMatchingRecords)>0?c(!0,b,a):c(!1,b):c(!0,b)},600)}).error(function(a,b){d(function(){$("#progressModal").modal("hide"),c(!1,b)},600)})})}};return{ffp:function(a,b,c,d,f){c?e.getcoordinates(c,function(a,c){"OK"===a?(b.location.latitude=c.lat().toString(),b.location.longitude=c.lng().toString(),o.callffp(b,function(a,c,e){a&&200===c?d(e,b.location):f()})):($("#progressModal").modal("hide"),f())}):o.callffp(b,function(a,b,c){a&&200===b?d(c):f()})},initMap:function(a,b,d){$(a).html(""),i=new c.maps.Map($(a)[0],n),j=new c.maps.LatLngBounds,k=new c.maps.InfoWindow,g=[],l=[],h=-1,"object"==typeof d&&d.hasOwnProperty("latitude")&&d.hasOwnProperty("longitude")&&new c.maps.Marker({position:new c.maps.LatLng(d.latitude,d.longitude),map:i,title:"My location"}),c.maps.event.addListenerOnce(i,"idle",function(){c.maps.event.trigger(i,"resize"),m=new c.maps.LatLng(b.latitude,b.longitude),i.setCenter(m),j.extend(m),i.fitBounds(j),g.length<2&&i.setZoom(8)})},drawmap:function(a,b,d,e,f){for(var g=d;g<b.length;g++){var h=b[g],i=h.Address,j={};j.name=h.firstName+" "+h.lastName,j.order=++e,j.lat=i.latitude,j.lng=i.longitude,j.myLatlng=new c.maps.LatLng(i.latitude,i.longitude),j.address=i.street1+" "+i.street2+","+i.city+" "+i.state+" "+i.zipcode,this.mapClickEvent(a,j,g,f)}},mapClickEvent:function(a,b,d,e){function h(){o=i.getCenter()}var m="<b>"+b.name+"</b><br />"+b.address,n=new c.maps.Marker({position:b.myLatlng,map:i,title:b.name,id:d,canvas:a});f.load().then(function(a){var d=new Image;d.src=a.resources.images.wcmsp.ffp+"/map/map-marker.png",d.onload=function(){var a=document.createElement("canvas");a.width=40,a.height=50;var e=a.getContext("2d");e.drawImage(d,0,0),e.fillStyle="white",e.font="20px Helvetica",b.order<10?e.fillText(b.order,14,26):b.order<100?e.fillText(b.order,8,26):b.order<1e3&&(e.font="16px Helvetica",e.fillText(b.order,6,25));var f={url:a.toDataURL(),size:new c.maps.Size(40,55),origin:new c.maps.Point(0,0),anchor:new c.maps.Point(20,55)};n.setIcon(f)}}),g[d]=n,l[d]=m,j.extend(b.myLatlng),i.fitBounds(j),i.setCenter(j.getCenter());var o;c.maps.event.addDomListener(i,"idle",function(){h()}),c.maps.event.addDomListener(window,"resize",function(){i.setCenter(o)}),e||c.maps.event.addListener(n,"click",function(a){return function(){var b=this.id,c=b+1,d="#fpcard"+c,e=$(d).offset().top,f=$(window).width();$("html , body").animate({scrollTop:e},200),f>992&&(k.setContent(m),k.open(i,a))}}(n))},highlightMarker:function(a){var d=a.currentTarget||a.target,e=b(d),j=parseInt(e.text()),m=j-1;$(".callbg").removeClass("hl-callnumber"),e.find(".callbg").addClass("hl-callnumber"),$(window).width()>992&&(k.setContent(l[m]),k.open(i,g[m]));var n=g[m].getPosition();i.setZoom(8),i.panTo(new c.maps.LatLng(n.lat(),n.lng()));var o=h;f.load().then(function(a){var b=a.resources.images.wcmsp.ffp+"/map/hl-dot-"+j+".png",c=a.resources.images.wcmsp.ffp+"/map/dot-"+(o+1)+".png";o>=0&&g[o].setIcon(c),g[m].setIcon(b)}),h=m}}}]).filter("phoneNumber",[function(){return function(a){if(null===a||10!==a.length)return a;var b="("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6,4);return b}}])}(window.angular,window.jQuery,window.google),function(a){"use strict";function b(b){b.css("display","block");var c=b.find(".modal-dialog"),d=(a(window).height()-c.height())/2,e=parseInt(c.css("marginBottom"),10);e>d&&(d=e),c.css("margin-top",d)}var c=a(window).width(),d=768>c,e=c>=768&&1200>=c,f=c>1200;a(".styled-select .fa-caret-down").click(function(){a(this).closest("#formbox").toggleClass("selectoropen")}),a(".filtertype").click(function(){d&&a(this).toggleClass("toshow")}),a(window).resize(function(){if(c=a(window).width(),d=768>c,e=c>=768&&1200>=c,f=c>1200,d&&a(".filters").show(),!d&&a(".showfilter").hasClass("toshow")&&a(".showfilter").next(".filters").hide(),e?a(".fpcards").length>1&&a(".fpcards.pull-right").length<1&&a(".fpcards:odd").addClass("pull-right"):a(".fpcards").length>1&&a(".fpcards.pull-right").length>0&&a(".fpcards").removeClass("pull-right"),a("#mapcontainer").is(":visible")&&!f){var g=e?300:150;a("#mapcontainer").removeClass("extendedheight").css("height",g+"px"),a("#mapwrapper").css({top:"0"})}a("#progressModal:visible").each(function(){b(a(this))})}),a(".showfilter a").click(function(b){b.preventDefault();var c=a(this),d=c.parent();d.hasClass("toshow")?(d.removeClass("toshow").addClass("tohide"),a(".filters").slideDown()):(d.removeClass("tohide").addClass("toshow"),a(".filters").slideUp())});var g=a(window).scrollTop();a(window).scroll(function(){if(a("#mapcontainer").is(":visible")){var b,h=a(window).scrollTop(),i=0,j=a("#mapcontainer").offset().top,k=a(".topnav").outerHeight();c=a(window).width(),d=768>c,e=1200>=c;var l=h-g;if(Math.abs(l)>2)if(f)h>=g&&a("#global-links-bar").is(":visible")&&(k-=a("#global-links-bar").outerHeight()),i=j-k,a("#mapcontainer").addClass("extendedheight").height(a("#mapdetail").outerHeight()),b=j+a("#mapcontainer").outerHeight()-a("#mapwrapper").outerHeight()-k,a("#mapwrapper").css(h>i?b>h?{top:h-i+"px",bottom:"auto"}:{top:"auto",bottom:"0"}:{top:"0",bottom:"auto"});else{i=d?j:j-k;var m=a(".showmore").is(":visible")?a(".showmore").outerHeight(!0):0;b=a("#mapcontainer").offset().top+a("#mapdetail").outerHeight()+a("#mapcontainer").outerHeight()-a("#mapwrapper").outerHeight()-m,b=d?b:b-k,h>i?b>h&&a("#mapwrapper").css({top:h-i+"px",bottom:"auto"}):a("#mapwrapper").css({top:"0",bottom:"auto"})}g=h}})}(window.jQuery),function(a,b,c){"use strict";a.module("pru.com.ffp.new",["pru.com.geolocation","pru.com.utils.storage","pru.com.utils.urls"]).directive("pruComFfpNew",[function(){return{restrict:"E",template:'<form class="form ffp">\r\n                      <div id="formbox" class="bylocation">\r\n                        <div class="row">\r\n                          <div class="col-xs-12">\r\n                            <span role="menuitem" class="sr-only" id="searchby-loc-name">Search By Location or Name</span>\r\n                            <div class="styled-select styled-select-ffp-widget">\r\n                              <ul role="menu" aria-labelledby="searchby-loc-name">\r\n                                <li tabindex="0" class="bylocation" data-ng-click="switchsearch($event,\'bylocation\')" data-ng-keydown="keynav($event)" role="menuitem">By Location</li>\r\n                                <li tabindex="0" class="byname" data-ng-click="switchsearch($event,\'byname\')" data-ng-keydown="keynav($event)" role="menuitem">By Name</li>\r\n                              </ul>\r\n                            </div>\r\n                          </div>\r\n                          <div class="col-xs-12">\r\n                            <div class="msearchterm" data-qa="search term">\r\n                              <div class="input-group" data-ng-show="!searchBy || searchBy == \'bylocation\'">\r\n                                <div class="input-group-addon"><i class="fa fa-map-marker"></i></div>\r\n                                <label for="inputTermLocation" class="sr-only optionlocation">Search by location</label>\r\n                                <input type="text" data-ng-model="ffpSearchTermLocation" class="form-control ffpInputBox optionlocation bylocation" placeholder="City, State OR Zip" data-pru-geo-address="formatted"/>\r\n                              </div>\r\n                              <div class="input-group" data-ng-show="searchBy == \'byname\'">\r\n                                <div class="input-group-addon"><i class="fa fa-user"></i></div>\r\n                                <label for="inputTermName" class="sr-only optionlocation">Search by name</label>\r\n                                <input type="text" data-ng-model="ffpSearchTermName" class="form-control ffpInputBox optionname byname" placeholder="Financial Professional Name" />\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div class="col-xs-12">\r\n                            <a class="btn btnsearch btn-primary analytics-ffp-search" role="button" data-ng-click="landffp($event)" href="#">Go</a>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </form>',scope:!0,controller:d,link:function(b,c){var d=a.element(c).find("input.optionlocation")[0];b.enableGoogleAutocomplete(d)}}}]).factory("FFPComponentHelper",function(){return{enableGoogleAutocomplete:function(a,b,d){if(c){var e=new c.maps.places.Autocomplete(a,b);c.maps.event.addListener(e,"place_changed",function(){var a="formatted_address";d(e.getPlace()[a])})}},switchsearch:function(a,b){var c=a.closest("ul"),d=a.closest("#formbox");if(d.hasClass("selectoropen")){if(d.removeClass("selectoropen"),!a.is(":first-child")){var e=a.attr("class");a.clone(!0).prependTo(c),a.remove(),d.attr("class",e),b(e)}}else d.addClass("selectoropen")},keynav:function(a,c){var d=a.currentTarget||a.target,e=b(d),f=e.closest("#formbox"),g=a.keyCode,h=$(".ffpInputBox");switch(g){case 40:a.preventDefault(),e.is(":first-child")&&(f.addClass("selectoropen"),e.next().focus());break;case 38:a.preventDefault(),e.is(":last-child")&&e.prev().focus();break;case 13:a.preventDefault(),f.hasClass("selectoropen")?e.is(":first-child")?(f.removeClass("selectoropen"),h.focus()):c(e.attr("class")):h.focus()}}}});var d=["$scope","$timeout","$rootElement","FFPComponentHelper","PruURLS",function(c,d,e,f,g){function h(){var b=a.element(e).find(".optionname");b.closest("[class*=col]").width()>320?b.attr("placeholder","Financial Professional Name"):b.attr("placeholder","Name")}g.load().then(function(a){c.landffpPage=a.pages.FindFinancialProfessional}),c.searchBy="bylocation",c.ffpSearchTermLocation="",c.ffpSearchTermName="",c.myPosition="",c.myLat="",c.myLng="";var i={componentRestrictions:{country:"us"},types:["(regions)"]};$(window).on("resize",h),c.switchsearch=function(g){var i=g.currentTarget||g.target,j=b(i);c.searchBy=j.attr("class"),f.switchsearch(j,function(b){"byname"===b&&h(),d(function(){a.element(e).find("input."+b).focus()},100)})},c.keynav=function(a){f.keynav(a,function(){c.switchsearch(a)})},c.enableGoogleAutocomplete=function(a){f.enableGoogleAutocomplete(a,i,function(a){c.$apply(function(){c.ffpSearchTermLocation=a})})},c.landffp=function(a){a.preventDefault();var b="bylocation"===c.searchBy?c.ffpSearchTermLocation:c.ffpSearchTermName;window.location=c.landffpPage+"?type="+c.searchBy+"&term="+b+"&myPos="+c.myPosition+"&myLat="+c.myLat+"&myLng="+c.myLng}}];a.pru.bootstrap("pru-com-ffp-new",["pru.com.ffp.new"])}(window.angular,window.jQuery,window.google),function(a,b,c){"use strict";a.module("pru.com.ffp.helper",["pru.com.utils.urls"]).service("FfpHelper",["PruURLS",function(d){var e="",f={};return d.load().then(function(a){f=a.pages,e=f.FindFinancialProfessional}),{enableGoogleAutocomplete:function(a,d,e){b(window).load(function(){if(c){var b=new c.maps.places.Autocomplete(a,d);c.maps.event.addListener(b,"place_changed",function(){var a="formatted_address";e(b.getPlace()[a])})}})},switchsearch:function(a,b){var c=a.closest("ul"),d=a.closest("#formbox");if(d.hasClass("selectoropen")){if(d.removeClass("selectoropen"),!a.is(":first-child")){var e=a.attr("class");a.clone(!0).prependTo(c),a.remove(),d.attr("class",e),b(e)}}else d.addClass("selectoropen")},keynav:function(a,c){var d=a.currentTarget||a.target,e=jQuery(d),f=e.closest("#formbox"),g=a.keyCode,h=b(".ffpInputBox");switch(g){case 40:a.preventDefault(),e.is(":first-child")&&(f.addClass("selectoropen"),e.next().focus());break;case 38:a.preventDefault(),e.is(":last-child")&&e.prev().focus();break;case 13:a.preventDefault(),f.hasClass("selectoropen")?e.is(":first-child")?(f.removeClass("selectoropen"),h.focus()):c(e.attr("class")):h.focus()}},getInterpolatedUrl:function(b){var c={type:"",term:"",resultsPageKey:"",myPos:"",myLat:"",myLng:""};return a.extend(c,b),b.resultsPageKey&&(e=f[b.resultsPageKey]),e+="?type=${type}&term=${term}&myPos=${myPos}&myLat=${myLat}&myLng=${myLng}",e.replaceMatches(c)}}}])}(window.angular,window.jQuery,window.google),function(a){"use strict";a.module("pru.com.ffp.location.only.blue",["pru.com.geolocation","pru.com.utils.storage","pru.com.ffp.helper"]).directive("pruComFfpLocationOnlyBlue",function(){return{restrict:"E",template:'<form data-ng-keyup="ffpKeyUpWidget($event)" class="form padding-md-left-20 padding-md-right-20">\r\n                  <div id="formbox" class="bylocation">\r\n                    <div class="msearchterm" data-qa="search term">\r\n                      <div class="col-xs-12 col-md-4">\r\n                        <h2><small class="headings-small-eyebrow">Search for</small>\r\n                          Financial Professionals</h2>\r\n                      </div>\r\n                      <div class="col-xs-12 col-md-8">\r\n                        <div class="input-group">\r\n                          <div class="input-group-addon"><i class="fa fa-map-marker"></i></div>\r\n                          <label for="inputTermLocation" class="sr-only optionlocation">Search by location</label>\r\n                          <input id="inputTermLocation" type="text" data-ng-model="ffpSearchTermLocation" class="form-control ffpInputBox optionlocation bylocation" placeholder="City, State OR Zip" data-pru-geo-address="formatted"/> \r\n                          <a class="btn btn-default analytics-ffp-search input-group-addon" role="button" data-ng-click="sendToFfpStandalonePage($event)" href="">Go<span class="sr-only"> Find Financial Professional</span></a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </form>',controller:"FfpLocationOnlyController",link:function(b,c,d){var e=a.element(c).find("input.optionlocation")[0];b.enableGoogleAutocomplete(e),b.resultsPageKey=d.resultsPage||""}}})}(window.angular),function(a){"use strict";a.module("pru.com.ffp.location.only.blue").controller("FfpLocationOnlyController",["$scope","$timeout","FfpHelper",function(a,b,c){a.searchBy="bylocation",a.ffpSearchTermLocation="";var d={componentRestrictions:{country:"us"},types:["(regions)"]};a.enableGoogleAutocomplete=function(b){c.enableGoogleAutocomplete(b,d,function(b){var c=$(".pac-container .pac-item:first").text(),d=$(".pac-container .pac-item:first .pac-item-query").text(),e=d.length,f=null;c&&d&&(f=[c.slice(0,e)," ",c.slice(e)].join("")),b?a.$apply(function(){a.ffpSearchTermLocation=b}):f&&a.$apply(function(){a.ffpSearchTermLocation=f})})},a.ffpKeyUpWidget=function(c){var d=13===c.keyCode?!0:!1;d&&b(function(){a.sendToFfpStandalonePage(c)},1e3)},a.sendToFfpStandalonePage=function(b){b.preventDefault(),window.location=c.getInterpolatedUrl({type:a.searchBy,term:a.ffpSearchTermLocation,resultsPageKey:a.resultsPageKey})}}])}(window.angular),function(a){"use strict";a.module("pru.com.search",["pru.com.search.engine","pru.com.accessibility","pru.com.security.html","pru.com.utils.render"]).controller("GlobalSearchController",["$scope","SearchEngine",function(a,b){a.minlength=b.minlength,a.autocompleteData=b.autocomplete,a.submit=function(b){0===a.query.length&&b.preventDefault()}}]).controller("SearchController",["$scope","SafeHTML","SearchEngine",function(a,b,c){a.minlength=c.minlength,a.autocompleteData=c.autocomplete;var d=function(b){a.query&&a.pagination&&(a.loading=!0,c.search(a.query,a.pagination,function(c){b(c),a.loading=!1},function(b){a.error=b,a.loading=!1}))};a.search=function(b){a.query=b||a.query||"",a.query.length<a.minlength||(a.pagination={start:1,end:5},d(function(b){a.results=b,a.results.pagination.partial=(a.results.list||[]).length}))},a.loadMore=function(b){a.results&&(a.pagination={start:a.pagination.end+1,end:a.pagination.end+b},d(function(b){b.list.length>0&&(a.autofocus={index:a.results.pagination.partial}),a.results.list=a.results.list.concat(b.list),a.results.pagination.partial=a.results.list.length}))},a.howManyMoreShouldLoad=function(){var b=10;if(!a.results)return b;var c=a.results.pagination.total,d=a.results.pagination.partial;return c>d+b?b:c-d},a.$on("pruFinishedRender",function(){a.autofocus&&a.autofocus.index&&$(".search-list-item:eq("+a.autofocus.index+")").find("h2").attr("tabindex",-1).focus()});var e=((window.location.search.match(/query=([^&]*)/)||[])[1]||"").replace(/\+/g," ");e&&(a.query=b.parse(decodeURIComponent(e)),a.search())}]),a.element(window).on("load",function(){a.pru.bootstrap("#header-search form",["pru.com.search"])})}(window.angular),function(a){"use strict";a.module("pru.com.search.engine",["pru.com.utils.storage","pru.com.utils.urls"]).factory("SearchEngine",["$http","PruURLS","LocalStorage",function(b,c,d){function e(b,c){c=a.extend({searchList:[],totalNumberOfMatchingRecords:0},c);for(var d={query:b,suggestion:c.correctedSpellingString,pagination:{total:parseInt(c.totalNumberOfMatchingRecords)},list:c.searchList.length?[]:void 0},e=0,f=c.searchList.length;f>e;e++){var g=c.searchList[e];d.list.push({title:g.documentTitle,description:g.docDescription,link:g.URL})}return d}function f(a,b){return{method:"GET",url:a,headers:{"X-PruComponentID":b},timeout:16e3}}return{minlength:3,search:function(a,d,g,h){c.load().then(function(c){var i=c.services.search.engine.replaceMatches({query:a,start:d.start-1,end:d.end});b(f(i,"Search")).success(function(b){g(e(a,b.searchResponse))}).error(function(a){h(a)})})},autocomplete:function(e,g,h){var i="pru.com.search.autocomplete."+e,j=d.get(i);j?g(j):c.load().then(function(c){var j=c.services.search.autocomplete.replaceMatches({query:e,start:0,end:5});b(f(j,"Search.Autocomplete")).success(function(b){b=a.extend({suggestedOutputList:[]},b.querySuggestionResponse);for(var c=[],e=0,f=b.suggestedOutputList.length;f>e;e++)c.push(b.suggestedOutputList[e].suggestedOutput);d.set(i,c),g(c)}).error(function(a){h(a)})})}}}])}(window.angular),function(a,b){"use strict";a(document).ready(function(){a(".js-email-popover").popover()}),b.module("pru.com.privacy",[]).controller("PrivacyPolicyOptOut",["$scope","PrivacyPolicyOptOutService","dateFilter","$window","PruURLS",function(a,b,c,d,e){a.data={},a.data.isResubmit="N",a.data.isResubmitBool="N"!==a.data.isResubmit,a.isCsr=!1,a.data.requestInitiator="Client",e.load().then(function(b){var c=new RegExp(b.pages.PrivacyOptOutFormCsr,"i");d.location.pathname.match(c)&&(a.isCsr=!0,a.data.requestInitiator="CSR")});var f=new Date;f.setYear(f.getFullYear()-18),a.maxDate=c(f,"yyyy-MM-dd"),a.submit=function(c){c.$submitted=!0,c.$valid&&(a.loading=!0,b.save(a.data).then(function(){a.loading=!1,a.saved=!0,a.data.isResubmit="N";try{window.Bootstrapper.ensEvent.trigger("validPruPrivacyOptOut")}catch(b){}})["catch"](function(b){a.error=Math.random()+1,400===b.status?(a.data.isResubmit="Y",a.formError=Math.random()+1,a.serviceError=!1):(a.formError=!1,a.serviceError=Math.random()+1),a.loading=!1}))}}]).factory("PrivacyPolicyOptOutService",["$http","$q","PruHTTP",function(a,b,c){return{save:function(a){var d=b.defer(),e={privacyInfoUpdateRequest:{personName:{firstName:a.name.first,lastName:a.name.last},dateOfBirth:a.dob,ssn:a.ssn,location:{zipCode:a.zip},isResubmit:a.isResubmit,requestInitiator:a.requestInitiator}};a.email&&(e.privacyInfoUpdateRequest.contactChannel=[{contactChannelType:"Email",contactChannelValue:a.email}]);var f={status:null},g={success:200,noUniqueMatch:400,serviceError:503};return c.post("services.privacy.optout",e).then(function(b){b=b.privacyInfoUpdateResponse;var c=parseInt(b.responseCode);200===c?/no records/i.test(b.responseString)&&"Y"!==a.isResubmit?(f.status=g.noUniqueMatch,d.reject(f)):(f.status=g.success,d.resolve(f)):(f.status=c,d.reject(f))})["catch"](function(){f.status=g.serviceError,d.reject(f)}),d.promise}}}])}(window.jQuery,window.angular),function(a){"use strict";a.module("pru.com.email",[]).controller("AddEmail",["$scope","AddEmailService","dateFilter","$window","PruURLS",function(a,b,c,d,e){a.data={},a.data.isResubmit="N",a.data.isResubmitBool="N"!==a.data.isResubmit,a.isCsr=!1,a.data.requestInitiator="Client",e.load().then(function(b){var c=new RegExp(b.pages.PrivacyOptOutFormCsr,"i");d.location.pathname.match(c)&&(a.isCsr=!0,a.data.requestInitiator="CSR")});var f=new Date;f.setYear(f.getYear()-18),a.maxDate=c(f,"yyyy-MM-dd"),a.submit=function(c){c.$submitted=!0,c.$valid&&(a.loading=!0,console.log(a.data),b.save(a.data).then(function(){a.loading=!1,a.saved=!0,a.data.isResubmit="N";try{}catch(b){}})["catch"](function(b){a.error=Math.random()+1,400===b.status?(a.data.isResubmit="Y",a.formError=Math.random()+1,a.serviceError=!1):(a.formError=!1,a.serviceError=Math.random()+1),a.loading=!1}))}}]).factory("AddEmailService",["$http","$q","PruHTTP",function(a,b,c){return{save:function(a){var d=b.defer(),e={contactChannelUpdateRequest:{personName:{firstName:a.name.first,lastName:a.name.last},dateOfBirth:a.dob,ssn:a.ssn,contractNumber:a.policy,contactChannel:[{contactChannelType:"Email",contactChannelValue:a.email}],location:{zipCode:"00000"},isResubmit:a.isResubmit}},f={status:null},g={success:200,noUniqueMatch:400,serviceError:503};return c.post("services.email.update",e).then(function(b){b=b.contactChannelUpdateResponse;var c=parseInt(b.responseCode);200===c?(/no records/i.test(b.responseString)||/many records/i.test(b.responseString))&&"Y"!==a.isResubmit?(f.status=g.noUniqueMatch,d.reject(f)):(f.status=g.success,d.resolve(f)):(f.status=c,d.reject(f))})["catch"](function(){f.status=g.serviceError,d.reject(f)}),d.promise}}}])}(window.angular),function(a,b,c){"use strict";var d=function(){return(new Date).getTime().toString()+Math.random()+Math.random()},e=b.module("pru.com.marketing.automation.signup",["pru.com.accessibility.autofocus","pru.com.security.html.input","pru.com.utils.http","pru.com.utils.storage","pru.com.utils.show.errors"]).directive("signUp",[function(){return{restrict:"E",transclude:!0,template:'        <div class="sign-up-form" data-ng-class="{\'signed-up\': signed, inline: inlineForm}">          <div class="messages" data-pru-autofocus="show && signed" data-pru-autofocus-scroll=".sign-up-form"></div>          <form name="signUpForm" novalidate data-pru-autofocus-first-error>            <input type="hidden" name="{{name}}" value={{value}} data-ng-repeat="(name, value) in analytics"/>            <div class="alert alert-danger" role="alert" tabindex="0" data-ng-show="error" data-pru-autofocus="error" data-pru-autofocus-scroll=".sign-up-form" data-ng-cloak>              <h2>We encountered a problem.</h2>              <p>                We\'re sorry, we encountered an error processing your request.  Please try again.              </p>            </div>            <div class="row">              <div class="col-xs-12" data-ng-class="{\'col-md-3\': inlineForm }">                <div class="form-group" show-errors>                  <label class="control-label" for="sign-up-first-name" aria-live="polite" aria-atomic="true" aria-relevant="all">                    First Name                    <span class="error-details" data-ng-if="signUpForm.firstName.$dirty && signUpForm.firstName.$invalid">(Error: Enter your first name)</span>                  </label>                  <input type="text" name="firstName" id="sign-up-first-name" data-ng-model="data.fields.firstName" class="form-control" aria-required="true" autocomplete="off" autocorrect="off" autocapitalize="off" required>                </div>              </div>              <div class="col-xs-12" data-ng-class="{\'col-md-3\': inlineForm}">                <div class="form-group" show-errors>                  <label class="control-label" for="sign-up-last-name" aria-live="polite" aria-atomic="true" aria-relevant="all">                    Last Name                    <span class="error-details" data-ng-if="signUpForm.lastName.$dirty && signUpForm.lastName.$invalid">(Error: Enter your last name)</span>                  </label>                  <input type="text" name="lastName" id="sign-up-last-name" data-ng-model="data.fields.lastName" class="form-control" aria-required="true" autocomplete="off" autocorrect="off" autocapitalize="off" required>                </div>              </div>              <div class="col-xs-12" data-ng-class="{\'col-md-4\': inlineForm}">                <div class="form-group" show-errors>                  <label class="control-label" for="sign-up-email" aria-live="polite" aria-atomic="true" aria-relevant="all">                    Email Address                    <span class="error-details" data-ng-if="signUpForm.email.$dirty && signUpForm.email.$invalid">(Error: Enter a valid email address)</span>                  </label>                  <input type="email" name="email" id="sign-up-email" data-ng-model="data.fields.email" class="form-control" aria-required="true" data-ng-pattern="/^[a-zA-Z0-9.!#$%&*+\\/=?^_`{|}~-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-]{2,}$/" autocomplete="off" autocorrect="off" autocapitalize="off" required>                </div>              </div>              <div class="col-xs-12 extra-fields-container" data-ng-if="!inlineForm"  data-ng-class="{\'col-md-4\': inlineForm}"></div>              <div class="col-xs-12" data-ng-class="{\'col-md-2\': inlineForm, \'col-sm-6\': !inlineForm}">                <button type="submit" class="btn btn-primary  btn-xs-block" data-ng-disabled="loading || signUpForm.$invalid || extraFieldsForm.$invalid || disabled" data-ng-click="submit(signUpForm)">Sign Up <span class="fa fa-spinner fa-spin" data-ng-show="loading"></span></button>              </div>            </div>          </form>        </div>      ',scope:{inlineForm:"@",formName:"@",storageKey:"@"},link:function(a,b,d,e,f){if(!a.formName)throw new Error("pru.com.marketing.automation.signup - Eloqua form name is required. Make sure it is set as an attribute on the sign-up component");f(a,function(a){b.find(".sign-up-form .messages").prepend(a),b.find(".extra-fields").appendTo(".extra-fields-container")}),a.$watch("show",function(a){var e=d.parent?c(b).parents(d.parent).first():b;a?e.removeClass("ng-cloak"):e.hide()})},controller:["$scope","$element","SignUpService",function(b,c,d){b.signed=d.isSigned(b.formName,b.storageKey),b.show=!b.signed,b.analytics=(a.eloqua.form[b.formName]||{}).header.profileAssociation,b.submit=function(a){a.$submitted=!0,a.$valid&&(b.disabled||(b.loading=!0,d.submit(b.formName,b.data,b.storageKey).then(function(){b.signed=Math.random()+1,$(c).find("form").trigger("submit-success")})["catch"](function(){b.error=Math.random()+1})["finally"](function(){b.loading=!1})))}}]}}]).provider("SignUpService",function(){var e={header:{appID:"",appName:"",clientID:"N/A",eventType:"B2B",transactionType:"Form",transactionID:"0",correlationID:"0",createDateTime:"",profileAssociation:{elqFormName:"",elqSiteId:"0",elqCampaignId:"0",elqCookieWrite:"0",elqCustomerGUID:"",version:"1.0"}},data:{id:"0",name:"",fields:{},hidden:{},fieldValues:[]}};this.payload=function(a){e=b.extend(e,a)},this.$get=["dateFilter","PruHTTP","LocalStorage",function(b,f,g){var h={fields:function(a){var b=a.data,c=function(){return Object.keys(b.fields).map(function(a){return{type:"FieldValue",id:b.fields[a],value:b.values[a]}})},d=function(){return Object.keys(b.hidden).map(function(c){c=b.hidden[c];var d=function(){try{return"function"==typeof c.value?c.value(a):c.value}catch(b){return"Not available"}};return{type:"FieldValue",id:c.id,value:d()}})},e={data:{fieldValues:[].concat(d(),c())}};return delete a.data.fields,delete a.data.hidden,delete a.data.values,e},timestamp:function(){var a="yyyy-MM-ddTHH:mm:ss.sssZ";return{header:{createDateTime:b(new Date,a)}}},ids:function(b){return{header:{clientID:(a.location.search.match(/CO=([^&]*)/)||[])[1]||b.header.clientID,transactionID:b.data.id,correlationID:d(),profileAssociation:{elqCustomerGUID:g.get("elqCustomerGUID")||b.header.profileAssociation.elqFormName}},data:{name:b.header.profileAssociation.elqFormName}}},parse:function(a){return{marketAutomationRequest:c.extend(!0,a,h.fields(a),h.ids(a),h.timestamp(a))}}},i="services.marketing.automation",j=function(a){return i+"-form-"+a};return{submit:function(b,d,k){return d=h.parse(c.extend(!0,{},{data:{values:d.fields}},e,a.eloqua.form[b])),f.post(i,d).then(function(){g.set(j(k||b),d)})},isSigned:function(a,b){return!(!g.get(j(b))&&!g.get(j(a)))}}}]});e.bootstrap=function(){b.element(document).ready(function(){b.pru.bootstrap("sign-up",[e.name])})},document.createElement("sign-up")}(window,window.angular,window.jQuery),function(a,b,c){"use strict";var d=location.href,e=b.module("pru.com.marketing.automation.pruview.signup",["pru.com.accessibility.autofocus","pru.com.security.html.input","pru.com.utils.http","pru.com.utils.storage","pru.com.utils.show.errors"]).directive("pruViewSignUp",[function(){return{restrict:"E",transclude:!0,template:'\r\n        <div class="sign-up-form" data-ng-class="{\'signed-up\': signed, inline:ainlineForm}">\r\n          <div class="messages" data-pru-autofocus="show && signed" data-pru-autofocus-scroll=".sign-up-form"></div>\r\n          <form name="signUpForm" novalidate data-pru-autofocus-first-error>\r\n            <input type="hidden" name="{{name}}" value={{value}} data-ng-repeat="(name, value) in analytics"/>\r\n            <div class="alert alert-danger" role="alert" tabindex="0" data-ng-show="error" data-pru-autofocus="error" data-pru-autofocus-scroll=".sign-up-form" data-ng-cloak>\r\n              <h2>We encountered a problem.</h2>\r\n              <p>\r\n                We\'re sorry, we encountered an error processing your request.  Please try again.\r\n              </p>\r\n            </div>\r\n            <div class="row">\r\n              <div class="col-xs-12" data-ng-class="{\'col-md-2\': ainlineForm}">\r\n                <div class="form-group" show-errors  aria-live="polite" aria-atomic="true" aria-relevant="all">\r\n                  <label class="control-label" for="sign-up-first-name">\r\n                    First Name\r\n                  </label>\r\n                  <input type="text" name="firstName" id="sign-up-first-name" data-ng-model="data.firstName" class="form-control" aria-required="true" autocomplete="off" autocorrect="off" autocapitalize="off" required>\r\n                  <span class="error-details help-block" data-ng-if="signUpForm.firstName.$dirty && signUpForm.firstName.$invalid"><strong>Error:</strong> Enter your first name</span>\r\n                </div>\r\n              </div>\r\n              <div class="col-xs-12" data-ng-class="{\'col-md-2\': ainlineForm}">\r\n                <div class="form-group" show-errors  aria-live="polite" aria-atomic="true" aria-relevant="all">\r\n                  <label class="control-label" for="sign-up-last-name">\r\n                    Last Name\r\n                  </label>\r\n                  <input type="text" name="lastName" id="sign-up-last-name" data-ng-model="data.lastName" class="form-control" aria-required="true" autocomplete="off" autocorrect="off" autocapitalize="off" required>\r\n                <span class="error-details help-block" data-ng-if="signUpForm.lastName.$dirty && signUpForm.lastName.$invalid"><strong>Error:</strong> Enter your last name</span>\r\n                </div>\r\n              </div>\r\n              <div class="col-xs-12" data-ng-class="{\'col-md-3\': ainlineForm}">\r\n                <div class="form-group" show-errors aria-live="polite" aria-atomic="true" aria-relevant="all">\r\n                  <label class="control-label" for="sign-up-email">\r\n                    Email Address\r\n                  </label>\r\n                  <input type="email" name="email" id="sign-up-email" data-ng-model="data.email" class="form-control" aria-required="true" data-ng-pattern="/^[a-zA-Z0-9.!#$%&*+\\/=?^_`{|}~-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-]{2,}$/" autocomplete="off" autocorrect="off" autocapitalize="off" required>\r\n                  <span class="error-details help-block" data-ng-if="signUpForm.email.$dirty && signUpForm.email.$invalid"><strong>Error:</strong> Enter a valid email address</span>\r\n                </div>\r\n              </div>\r\n              <div class="col-xs-12 extra-fields-container"   data-ng-class="{\'col-md-3\': ainlineForm}"></div>\r\n              <div class="col-xs-12" data-ng-class="{\'col-md-2\': ainlineForm, \'col-sm-6\': !ainlineForm}">\r\n                <button type="submit" class="btn btn-primary  btn-xs-block" data-ng-disabled="loading || signUpForm.$invalid || !data.role || disabled" data-ng-click="submit(signUpForm)">Sign Up <span class="fa fa-spinner fa-spin" data-ng-show="loading"></span></button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      ',
scope:{ainlineForm:"@",formName:"@",storageKey:"@"},link:function(a,b,d,e,f){if(!a.formName)throw new Error("pru.com.marketing.automation.pruview.signup - form name is required. Make sure it is set as an attribute on the sign-up component");f(a,function(a){b.find(".sign-up-form .messages").prepend(a),b.find(".extra-fields").appendTo(".extra-fields-container")}),a.$watch("show",function(a){var e=d.parent?c(b).parents(d.parent).first():b;a?e.removeClass("ng-cloak"):e.hide()})},controller:["$scope","$element","PruViewSignUpService",function(a,b,c){a.signed=c.isSigned(a.formName,a.storageKey),a.show=!a.signed,a.submit=function(d){d.$submitted=!0,d.$valid&&(a.disabled||(a.loading=!0,c.submit(a.formName,a.data,a.storageKey).then(function(){a.signed=Math.random()+1,$(b).find("form").trigger("submit-success")})["catch"](function(){a.error=Math.random()+1})["finally"](function(){a.loading=!1})))}}]}}]).provider("PruViewSignUpService",function(){this.$get=["PruHTTP","LocalStorage",function(a,b){var c="services.advisorexperience.pruviewleadcapture",e=function(a){return c+"-form-"+a};return console.log(c),{submit:function(f,g,h){return g={leadInfoRequest:{collection:"picollection",data:{campaignid:f,email:g.email,firstname:g.firstName,lastname:g.lastName,role:g.role,source:d}}},console.log("form data",g),a.post(c,g).then(function(){b.set(e(h||f),g)})},isSigned:function(a,c){return!(!b.get(e(c))&&!b.get(e(a)))}}}]});e.bootstrap=function(){b.element(document).ready(function(){b.pru.bootstrap("pru-view-sign-up",[e.name])})},document.createElement("pru-view-sign-up")}(window,window.angular,window.jQuery),function(a,b){"use strict";function c(a){a=a.split(",");var b,c,d=f.length,e=a.length,g=[];for(b=0;d>b;b++)for(c=0;e>c;c++)a[c]===f[b].type&&g.push(f[b]);return g}function d(b){return a('meta[name="'+b+'"], meta[property="'+b+'"]').first().attr("content")}var e="email,facebook,twitter,linkedin",f=[{type:"email",url:"mailto:",params:{subject:"email:subj",body:["pru-og:shortDescription","og:url"]},icon:"fa fa-envelope"},{type:"facebook",url:"http://www.facebook.com/sharer/sharer.php?m2w",params:{"p[url]":"og:url"},icon:"fa fa-facebook"},{type:"twitter",url:"http://twitter.com/share",params:{url:"og:url",text:"og:title"},icon:"fa fa-twitter"},{type:"linkedin",url:"http://www.linkedin.com/shareArticle?mini=true",params:{title:"pru-og:longTitle",summary:"pru-og:shortDescription",url:"og:url"},icon:"fa fa-linkedin"},{type:"pinterest",url:"https://www.pinterest.com/pin/create/button/",params:{media:"og:image",description:"pru-og:shortDescription",url:"og:url"},icon:"fa fa-pinterest"}];b.module("pru.com.social.share",[]).directive("socialShareBtn",[function(){return{restrict:"E",template:'<div class="share-btn-group" data-ng-repeat="media in medias">\r\n                  <a class="share-btn {{media.type}}" href="{{url(media.type)}}" target="{{media.type == \'email\' ? \'\' : \'_blank\'}}">\r\n                    <div class="share-button-cycle">\r\n                      <span id="pru-share-{{media.type}}" class="{{media.icon}}"></span>\r\n                      <span class="sr-only">Share this article through {{media.type}}{{media.type == \'email\' ? \'\' : \', opens in a new window\'}}</span>\r\n                    </div>\r\n                  </a>\r\n                </div>',scope:{},link:function(f,g,h){f.medias=c(h.showMedias?h.showMedias:e),f.url=function(c){var e={};b.forEach(f.medias,function(a){a.type===c&&(e=a)});var g={};Object.keys(e.params).map(function(b){g[b]="";var c=e.params[b];a.isArray(c)?c.forEach(function(a){g[b]+=d(a)+"\n\n"}):g[b]=d(c)});var h="";for(var i in g)h+=i+"="+encodeURIComponent(g[i])+"&";return e.url+(e.url.match(/\?/)?"&":"?")+h};var i=function(){var b=a("head").find('meta[name="og:url"], meta[property="og:url"]');b.attr("content")||b.attr("content",window.location.href.split("?")[0])};i()}}}]).directive("socialRatingBtn",[function(){return{restrict:"E",template:'<div class="article-rating btn-group" role="group">\r\n                  <button type="button" class="btn btn-default" ng-click="like()" ng-class="{active : liked}">\r\n                    <span class="like fa fa-lg text-info fa-thumbs-up nltx-rating" data-analytics="uid" data-title="title" data-rating="like"></span>\r\n                    <span class="sr-only">{{liked && !disliked ? \'You liked\' : \'Like\'}} this article</span>\r\n                  </button>\r\n                  <button type="button" class="btn btn-default" ng-click="dislike()" ng-class="{active : disliked}">\r\n                    <span class="dislike fa fa-lg text-info fa-thumbs-down nltx-rating" data-analytics="uid" data-title="title" data-rating="dislike"></span>\r\n                    <span class="sr-only">{{disliked && !liked ? \'You disliked\' : \'Dislike\'}} this article</span>\r\n                  </button>\r\n                </div>',link:function(a){a.uid=d("og:url"),a.title=d("og:title"),a.like=function(){a.liked=!a.liked,a.disliked=!1},a.dislike=function(){a.disliked=!a.disliked,a.liked=!1}}}}]),b.element(document).ready(function(){b.pru.bootstrap("social-share-btn",["pru.com.social.share"]),b.pru.bootstrap("social-rating-btn",["pru.com.social.share"])})}(window.jQuery,window.angular),function(a){"use strict";a.module("is.prudential.com",["pru.com.accessibility","pru.com.allacclogin.page","pru.com.client.wcf","pru.com.components.load.more","pru.com.email","pru.com.fa","pru.com.ffp","pru.com.ffpNew","pru.com.ffp.location.only.blue","pru.com.gaq","pru.com.login.page","pru.com.login.service","pru.com.loginsiteminder.service","pru.com.plugins","pru.com.polyfills","pru.com.privacy","pru.com.rss.feed","pru.com.search","pru.com.utils","pru.com.validators.date","pru.com.marketing.automation.signup","pru.com.marketing.automation.pruview.signup","pru.com.social.share","pru.com.components.show.more","pru.com.ai.form.page.table.sort"]),a.element(document).ready(function(){a.bootstrap(a.element("#site-wrapper"),["is.prudential.com"])})}(window.angular),function(a,b){"use strict";a(function(){function c(){var c=b.get("checklist-cookie");if(c){var d=a.parseJSON(c);a.each(d,function(b){var c=a('[id="'+b+'"]');c.attr("checked","checked")})}}a(".sccheckbox").on("change",function(){var c=a(this);c.prop("checked")===!0?c.attr("checked","checked"):c.removeAttr("checked");var d={};a(":checked").each(function(){var a=this.id;d[a]=this.checked?1:0});var e=JSON.stringify(d);b.set("checklist-cookie",e,{expires:365})}),c()})}(window.jQuery,window.Cookies),function(a){"use strict";$(document).ready(function(){$(".js-interest-popover").popover()}),a.module("pru.com.fa",["pru.com.utils.urls","pru.com.accessibility.autofocus"]).controller("RequestACallController",["$scope","RequestACallService","PruURLS",function(b,c,d){b.services=[{label:"Protecting My Family",tip:"Auto, Home, Life, Long Term Care, Disability"},{label:"Saving for Retirement",tip:"IRAs, 401(k), Annuities"},{label:"Living in Retirement",tip:"Annuities, IRAs"},{label:"Financial Strategy",tip:"Mutual Funds, Retirement, Estate Planning"},{label:"Saving for Education",tip:"529 Plans, College Planning"},{label:"Small Business Planning"}],b.notes=["Coverage varies by carrier and state, and may not be available in all states.","Financial planning and investment advisory services through Pruco Securities, LLC (Pruco), doing business as Prudential Financial Planning Services (PFPS), pursuant to separate client agreement.  Offering insurance and securities products and services as a registered representative of Pruco, and an agent of issuing insurance companies","Availability varies by carrier and state."],d.load().then(function(a){b.FFPContactUs=a.pages.FFPContactUs}),b.success=!1,b.data={interests:{checked:{},list:function(){var a=b.data.interests.checked,c=[];for(var d in a)a[d]&&c.push(d);return c},valid:function(){return b.data.interests.checked.other&&!b.data.interests.other?!1:b.data.interests.list().length>0}}},b.step=function(a){return a&&(b._step=a),b._step||"one"};var e=((window.location.search.match(/Age=([^&]*)/)||[])[1]||"").replace(/\+/g," ");e&&(b.data.age=e);var f=((window.location.search.match(/CampaignExtension=([^&]*)/)||[])[1]||"").replace(/\+/g," ");f&&(b.data.campaignExtension=f);var g=((window.location.search.match(/CampaignID=([^&]*)/)||[])[1]||"").replace(/\+/g," ");g&&(b.data.campaignID=g);var h=((window.location.search.match(/Height=([^&]*)/)||[])[1]||"").replace(/\+/g," ");h&&(b.data.height=h);var i=((window.location.search.match(/UserID=([^&]*)/)||[])[1]||"").replace(/\+/g," ");i&&(b.data.userID=i);var j=((window.location.search.match(/SessionID=([^&]*)/)||[])[1]||"").replace(/\+/g," ");j&&(b.data.sessionID=j);var k=((window.location.search.match(/Weight=([^&]*)/)||[])[1]||"").replace(/\+/g," ");k&&(b.data.weight=k);var l=((window.location.search.match(/CoverageAmount=([^&]*)/)||[])[1]||"").replace(/\+/g," ");l&&(b.data.coverageAmount=l);var m=((window.location.search.match(/LeadType=([^&]*)/)||[])[1]||"").replace(/\+/g," ");m&&(b.data.leadType=m);var n=((window.location.search.match(/LeadSource=([^&]*)/)||[])[1]||"").replace(/\+/g," ");n&&(b.data.leadSource=n);var o=((window.location.search.match(/Gender=([^&]*)/)||[])[1]||"").replace(/\+/g," ");o&&(b.data.gender=o);var p=((window.location.search.match(/MainProductType=([^&]*)/)||[])[1]||"").replace(/\+/g," ");p&&(b.data.mainProductType=p);var q=((window.location.search.match(/TobaccoOrNicotineProd=([^&]*)/)||[])[1]||"").replace(/\+/g," ");q&&(b.data.tobaccoOrNicotineProd=q),b.isSuccess=function(){return b.success},b.submit=function(d){d.$$submitted=b.loading=!0,b.data=a.extend({name:{},address:{}},b.data),(b.data.name.first||b.data.name.last)&&(b.data.email||b.data.mobilePhone)&&c.save(b.data,function(c){c=a.extend({leadInfoCreateResponse:{}},c),b.error=!1;var e=c.leadInfoCreateResponse.responseCode>=400,f=/zip/gi.test(c.leadInfoCreateResponse.responseString);e&&f&&(b.invalidZip=b.data.zip,b.error=!0),!e&&d.$valid&&(b.success=!0,document.cookie="AreasOfInterest="+b.data.interests.list(),b.error=!1),b.loading=!1},function(a){b.error={hash:(new Date).getTime(),message:a},b.loading=!1})},b.reset=function(c){c&&(c.$setPristine(),c.$submitted=!1),b.data=a.extend(b.data,{name:{first:"",last:""},address:{line1:"",line2:""},zip:"",email:"",mobilePhone:""}),b.data.interests=a.extend(b.data.interests,{other:"",checked:{}}),b.step("one")}}]).factory("RequestACallService",["$http","PruURLS",function(a,b){return{save:function(c,d,e){function f(a){return{leadInfoCreateRequest:{areasOfInterest:{categories:a.interests.list(),others:[a.interests.other]},personalInfo:{personName:{firstName:a.name.first,lastName:a.name.last},contactChannel:[{contactChannelType:"Email",contactChannelValue:a.email},{contactChannelType:"Mobile Phone",contactChannelValue:a.mobilePhone}],location:{addressLine1:a.address.line1,addressLine2:a.address.line2,city:"-",state:"-",zipCode:a.zip},age:a.age,height:a.height,weight:a.weight,gender:a.gender,coverageAmount:a.coverageAmount,tobaccoOrNicotineProd:a.tobaccoOrNicotineProd},leadType:a.leadType,compaignExtension:a.campaignExtension,campaignId:a.campaignID,sessionID:a.sessionID,userID:a.userID,mainProductType:a.mainProductType,leadSoruce:a.leadSource}}}b.load().then(function(b){a({url:b.services.ffp.contact,method:"POST",headers:{"Content-Type":"application/json","X-PruComponentID":"FFPRequestACall"},data:f(c),timeout:16e3}).success(d).error(e)})}}}]),$(window).load(function(){a.pru.bootstrap('[data-ng-controller="RequestACallController"]',["pru.com.fa"])})}(window.angular),function(a,b){"use strict";function c(a,b){this.$el=a,this.options=b}function d(a,b){this.container=a,this.$el=b}var e="[fade-move-up-animation]:not(.no-animation)";a.fn.animateActive=function(){var b=function(b){var c=b,d=a(window).scrollTop(),e=d+window.innerHeight,f=c.offset().top,g=f+c.height();return e>=f&&g>=d};a(e).each(function(){var c=a(this);b(c)&&c.addClass("no-animation")}),a(window).scroll(function(){a(e).each(function(){var c=a(this);b(c)&&(c.addClass("move-up-animation").children().addClass("fade-in-animation"),c.one("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){c.addClass("no-animation").children().addClass("no-animation")}))})})},b.module("pru.com.animations",[]).directive("fadeMoveUpAnimation",function(){return{restrict:"A",link:function(b,c){a(c).animateActive()}}}).directive("phraseAnimation",function(){return{restrict:"E",template:'<span class="phrases-container">\r\n                <span class="phrase-individual unanimated" ng-repeat="(key, phrase) in phrases"><span>{{phrase}}</span></span>\r\n              </span>',link:function(b,c,d){b.phrases=d.phrases.split("|"),a(c).animatePhrases()}}}),a(window).load(function(){a(e).filter(":not(.ng-scope)").animateActive()}),c.prototype={initDelayOccurred:!1,animate:function(){var a;return this.initDelayOccurred?(a=this.getNextPhrase(),a.revealIn(),void(this.getNextPhrase.bind(this)().$el.length?a.revealOut(this.animate.bind(this)):(this.$el.removeClass("animation-in-progress"),a.tearDown(!0)))):(this.$el.addClass("animation-in-progress"),this.initDelayOccurred=!0,void setTimeout(this.animate.bind(this),2*this.options.delay))},getNextPhrase:function(){return new d(this,this.$el.find(".unanimated").first())}},d.prototype={getWidth:function(){return this.$el.find("span").width()+1},setWidth:function(a){return this.$el.find("span").width(a),this},revealIn:function(){return this.previous().tearDown(),this.setWidth(this.getWidth()).$el.width(0).removeClass("unanimated").css("transition","width "+this.container.options.delay+"ms").width(this.getWidth()),this},revealOut:function(a){return setTimeout(function(){this.$el.width(0),setTimeout(function(){"function"==typeof a&&a()},this.container.options.delay)}.bind(this),2*this.container.options.delay),this},previous:function(){return new d(this.container,this.$el.prev(".phrase-individual"))},tearDown:function(a){return setTimeout(function(){a||this.$el.addClass("sr-only"),this.$el.removeAttr("style").find("span").removeAttr("style")}.bind(this),this.container.options.delay),this}},a.fn.animatePhrases=function(b){return a(function(){var d={delay:1e3};a.extend(d,b),a(this).find(".phrases-container").each(function(){var b=new c(a(this),d);b.animate()})}),a(this)},b.pru.bootstrap("phrase-animation",["pru.com.animations"])}(window.jQuery,window.angular),function(a){a.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(b,c,d){var e=this,f={$setViewValue:a.noop},g=c.numPages?d(c.numPages).assign:a.noop;this.init=function(a,g){f=a,this.config=g,f.$render=function(){e.render()},c.itemsPerPage?b.$parent.$watch(d(c.itemsPerPage),function(a){e.itemsPerPage=parseInt(a,10),b.totalPages=e.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var a=this.itemsPerPage<1?1:Math.ceil(b.totalItems/this.itemsPerPage);return Math.max(a||0,1)},this.render=function(){b.page=parseInt(f.$viewValue,10)||1},b.selectPage=function(a){b.page!==a&&a>0&&a<=b.totalPages&&(f.$setViewValue(a),f.$render())},b.getText=function(a){return b[a+"Text"]||e.config[a+"Text"]},b.noPrevious=function(){return 1===b.page},b.noNext=function(){return b.page===b.totalPages},b.$watch("totalItems",function(){b.totalPages=e.calculateTotalPages()}),b.$watch("totalPages",function(a){g(b.$parent,a),b.page>a?b.selectPage(a):f.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","paginationConfig",function(b,c){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["uibPagination","?ngModel"],controller:"PaginationController",template:"<ul class='pagination' role=\"navigation\" aria-label=\"Pagination\">\n  <li ng-if='boundaryLinks' ng-class='{disabled: noPrevious()}'><a href aria-label=\"first\" ng-click='selectPage(1)'><span aria-hidden=\"true\">{{getText('first')}}</span></a></li>\n  <li ng-if='directionLinks' ng-class='{disabled: noPrevious()}'><a href aria-label=\"previous\" ng-click='selectPage(page - 1)'><span aria-hidden=\"true\">{{getText('previous')}}</span></a></li>\n  <li ng-repeat='page in pages track by $index' ng-class='{active: page.active}'><a href ng-click='selectPage(page.number)'>{{page.text}}</a></li>\n  <li ng-if='directionLinks' ng-class='{disabled: noNext()}'><a href aria-label=\"next\" ng-click='selectPage(page + 1)'><span aria-hidden=\"true\">{{getText('next')}}</span></a></li>\n  <li ng-if='boundaryLinks' ng-class='{disabled: noNext()}'><a href aria-label=\"last\" ng-click='selectPage(totalPages)'><span aria-hidden=\"true\">{{getText('last')}}</span></a></li>\n</ul>",replace:!0,link:function(d,e,f,g){function h(a,b,c){return{number:a,text:b,active:c}}function i(b,c){var d=[],e=1,f=c,g=a.isDefined(l)&&c>l;g&&(m?(e=Math.max(b-Math.floor(l/2),1),f=e+l-1,f>c&&(f=c,e=f-l+1)):(e=(Math.ceil(b/l)-1)*l+1,f=Math.min(e+l-1,c)));for(var i=e;f>=i;i++){var j=h(i,i,i===b);d.push(j)}if(g&&!m){if(e>1){var k=h(e-1,"...",!1);d.unshift(k)}if(c>f){var n=h(f+1,"...",!1);d.push(n)}}return d}var j=g[0],k=g[1];if(k){var l=a.isDefined(f.maxSize)?d.$parent.$eval(f.maxSize):c.maxSize,m=a.isDefined(f.rotate)?d.$parent.$eval(f.rotate):c.rotate;d.boundaryLinks=a.isDefined(f.boundaryLinks)?d.$parent.$eval(f.boundaryLinks):c.boundaryLinks,d.directionLinks=a.isDefined(f.directionLinks)?d.$parent.$eval(f.directionLinks):c.directionLinks,j.init(k,c),f.maxSize&&d.$parent.$watch(b(f.maxSize),function(a){l=parseInt(a,10),j.render()});var n=j.render;j.render=function(){n(),d.page>0&&d.page<=d.totalPages&&(d.pages=i(d.page,d.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(b){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(c,d,e,f){var g=f[0],h=f[1];h&&(c.align=a.isDefined(e.align)?c.$parent.$eval(e.align):b.align,g.init(h,b))}}}])}(window.angular),function(a){"use strict";a.module("pru.com.ai.form.page.table.sort",[]).factory("DataService",["PruHTTP",function(a){return{getFormPageTableData:function(b){return a.get(b)}}}]).controller("AiFormPageTableSortController",["$scope","DataService",function(a,b){console.log(a,b)}]).directive("aiTableSort",function(){return{restrict:"E",replace:!0,transclude:!0,template:'\r\n<div class="aiFormPageTableSort" data-ng-cloak="">\r\n  <h2>{{tableData.title}}</h2>\r\n  <div class="sort-dp visible-xs visible-sm">\r\n    <label for="sortDP">Sort By:</label>\r\n    <select id="sortDP" ng-change="onSortDPChanged()" ng-model="selectedDPSort">\r\n      <option value="header1,false">{{tableData.headers.header1}} (Ascending)</option>\r\n      <option value="header1,true">{{tableData.headers.header1}} (Descending)</option>\r\n      <option value="header2,false">{{tableData.headers.header2}} (Ascending)</option>\r\n      <option value="header2,true">{{tableData.headers.header2}} (Descending)</option>\r\n    </select>\r\n  </div>\r\n  <table class="table table-striped table-to-list">\r\n    <caption class="sr-only">{{tableData.title}}</caption>\r\n    <thead>\r\n      <tr>\r\n         <th scope="col" class="col-md-4">\r\n             <div class="theadContainer row">\r\n                 <div class="theader col-xs-2">{{tableData.headers.header1}}</div>\r\n                 <div class="arrowContainer col-xs-1">\r\n                    <span aria-label="{{tableData.headers.header1}} Descended Sorted">\r\n                        <i id="arrow1up" class="fa fa-chevron-up arrowContainer-arrow hidden-xs" tabindex="13"\r\n                        aria-hidden="true" \r\n                        ng-click="updateSort(\'header1\',true)" \r\n                        aria-hidden="true">\r\n                        </i>\r\n                    </span>\r\n                    <span aria-label="{{tableData.headers.header1}} Ascended Sorted">\r\n                        <i id="arrow1dn" class="fa fa-chevron-down arrowContainer-arrow hidden-xs" style="visibility:hidden" tabindex="14"\r\n                        aria-hidden="true"\r\n                        ng-click="updateSort(\'header1\',false)"\r\n                        aria-hidden="true"></i>\r\n                    </span>\r\n                </div>\r\n             </div>\r\n        </th>\r\n        <th scope="col" class="col-md-2">\r\n            <div class="theadContainer row">\r\n                <div class="theader col-xs-5">{{tableData.headers.header2}}</div>\r\n                <div class="arrowContainer col-xs-1">\r\n                    <span aria-label="{{tableData.headers.header2}}  Descended Sorted">\r\n                        <i id="arrow2up" class="fa fa-chevron-up arrowContainer-arrow hidden-xs" tabindex="15"\r\n                        aria-hidden="true"\r\n                        ng-click="updateSort(\'header2\',true)"\r\n                        aria-hidden="true"></i>\r\n                    </span>\r\n                    <span aria-label="{{tableData.headers.header2}} Ascended Sorted">\r\n                        <i id="arrow2dn" class="fa fa-chevron-down arrowContainer-arrow hidden-xs" tabindex="16"\r\n                        aria-hidden="true"\r\n                        ng-click="updateSort(\'header2\',false)"\r\n                        aria-hidden="true"></i>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </th>\r\n        <th scope="col" class="col-md-6">\r\n          <div class="theader">{{tableData.headers.header3}}</div>\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n    \r\n    <tbody>\r\n      <tr ng-repeat="obj in tableData.data | orderBy:sortType:sortReverse">\r\n        <td data-title="{{tableData.headers.header1}}"><a href="{{obj.url}}" target="_blank">{{ obj.header1 }}</a></td>\r\n        <td data-title="{{tableData.headers.header2}}">{{ obj.header2 }}</td>\r\n        <td data-title="{{tableData.headers.header3}}">{{ obj.header3 }}</td>\r\n      </tr>\r\n    </tbody>\r\n    \r\n  </table>\r\n</div>\r\n',scope:{jsonurl:"@"},link:function(a,b,c){if(a.dirId=c.id,!a.jsonurl)throw new Error("pru.com.ai.form.page.table.sort - attribute jsonUrl is required. Make sure it is set as an attribute on the ai-table-sort component")},controller:["$scope","DataService",function(b,c){function d(){console.log("jsonURL"+b.jsonurl),c.getFormPageTableData(b.jsonurl).then(function(a){b.showH1ArrowDNVisiable=!1,h(),b.tableData=a,console.log(b.tableData.title)},function(a){console.warn(" pru.com.ai.form.page.table.sort DataService",a)})}function e(a,b){i(a,b),h(),g(a,b)}function f(){var a=b.selectedDPSort.split(",");i(a[0],"true"===a[1]),g(a[0],"true"===a[1])}function g(c,d){"header1"===c?(b.resetHeader1=!1,b.resetHeader2=!0,b.showH1ArrowUPVisiable=!d,b.showH1ArrowDNVisiable=d):(b.resetHeader1=!0,b.resetHeader2=!1,b.showH2ArrowUPVisiable=!d,b.showH2ArrowDNVisiable=d),b.resetHeader1&&(b.showH1ArrowUPVisiable=b.showH1ArrowDNVisiable=b.resetHeader1),b.resetHeader2&&(b.showH2ArrowUPVisiable=b.showH2ArrowDNVisiable=b.resetHeader2),a.element("#"+b.dirId+" #arrow1up").css("visibility",b.showH1ArrowUPVisiable?"visible":"hidden"),a.element("#"+b.dirId+" #arrow1dn").css("visibility",b.showH1ArrowDNVisiable?"visible":"hidden"),a.element("#"+b.dirId+" #arrow2up").css("visibility",b.showH2ArrowUPVisiable?"visible":"hidden"),a.element("#"+b.dirId+" #arrow2dn").css("visibility",b.showH2ArrowDNVisiable?"visible":"hidden")}function h(){b.selectedDPSort=b.sortType+","+b.sortReverse}function i(a,c){b.sortType=a,b.sortReverse=c}b.sortType="header1",b.sortReverse=!1,b.resetHeader1=!0,b.resetHeader2=!0,b.showH1ArrowUPVisiable=!0,b.showH1ArrowDNVisiable=!0,b.showH2ArrowUPVisiable=!0,b.showH2ArrowDNVisiable=!0,b.tableData=[],b.init=d,b.updateSort=e,b.onSortDPChanged=f,b.init()}]}})}(window.angular),function(a){"use strict";a.module("pru.com.components.load.more",["pru.com.utils.http"]).directive("componentsLoadMore",function(){return{restrict:"EA",transclude:!0,template:'<div class="load-more-components-container" ng-transclude></div><div class="text-center spacing-scheme-lg-bottom spacing-scheme-md-top"><button class="btn btn-primary btn-lg padding-left-50 padding-right-50" ng-show="displayLoadMore()" ng-click="loadMore()">Show More<span class="sr-only"> Content</span></button></div>',controller:["$scope","$element","$attrs","PruHTTP","$sce","$timeout",function(a,b,c,d,e,f){if(!c.url)throw new Error("Must pass in a source url.");if(!c.pageParamName)throw new Error("Must pass in the name of the page parameter.");if(!c.sizeParamName)throw new Error("Must pass in the name of the size parameter.");if(!c.totalComponents)throw new Error("Must pass in total number of components.");var g=c.size||10;a.currentPageIndex=c.currentPageIndex||1,a.displayLoadMore=function(){var b=a.currentPageIndex*g;return b<c.totalComponents},a.loadMore=function(){var e=c.url;e+=(e.split("?")[1]?"&":"?")+c.pageParamName+"="+ ++a.currentPageIndex+"&"+c.sizeParamName+"="+g,d.get(e).then(function(c){$(".load-more-components-container").append(c),f(function(){var c=(a.currentPageIndex-(a.hasTransclusion?1:2))*g,d=$(b.find(".load-more-components-container").first());d.children("div").eq(c).attr("tabindex",-1).focus()},0)})["catch"](function(a){return a})}}],link:function(a,b){a.hasTransclusion=Boolean(b.find(".load-more-components-container")[0].children.length)}}}),a.element(document).ready(function(){a.pru.bootstrap("components-load-more",["pru.com.components.load.more"])})}(window.angular),function(a){"use strict";a.module("pru.com.components.show.more",["pru.com.utils.render","pru.com.utils.http","pru.com.security.html","pru.com.utils.string"]).directive("showMore",["$q","ShowMoreService","$timeout",function(b,c,d){return{restrict:"E",transclude:!0,template:'\r\n            <div ng-transclude></div>\r\n            <div class="text-center padding-bottom-25"><button class="btn btn-primary btn-lg padding-left-50 padding-right-50" ng-show="displayShowMoreBtn()" ng-click="showMore()">Show More<span class="sr-only"> Content</span></button></div>\r\n            ',link:function(b,e,f){if(!f.url)throw new Error("Must pass in a source url.");if(!f.pageIndex)throw new Error("Must pass in value for the page index parameter.");if(!f.pageSize)throw new Error("Must pass in value for the page size parameter.");if(!f.initialDisplay)throw new Error("Must pass in number of components to display initially.");if(!f.totalComponents)throw new Error("Must pass in total number of components.");var g=[];b.components=[];var h=function(a){var b=a,c=$(window).scrollTop(),d=c+window.innerHeight,e=b.offset().top,f=e+b.height();return d>=e&&f>=c},i=f.url;parseInt(f.totalComponents)>parseInt(f.initialOffset)&&c(i.replaceMatches({pageIndex:f.pageIndex})).then(function(a){g=g.concat(a),g.splice(0,f.initialOffset),b.components=g.splice(0,f.initialDisplay),f.pageIndex++}),b.showMore=function(){var i=f.url;c(i.replaceMatches({pageIndex:f.pageIndex})).then(function(c){g=g.concat(c);var i=g.splice(0,f.pageSize);b.components=b.components.concat(i),b.autofocus={index:b.components.length-i.length},f.pageIndex++,d(function(){var b=e.find("[fade-move-up-animation]:gt("+(f.initialDisplay-1)+")");b.length&&a.forEach(b,function(b){var c=a.element(b);c.hasClass("no-animation")&&c.removeClass("no-animation"),h(c)&&(c.addClass("move-up-animation"),c.children().addClass("fade-in-animation"))})},0)})},b.displayShowMoreBtn=function(){var a=f.pageIndex>1?f.pageIndex-1:1,b=a*f.pageSize;return b<f.totalComponents},b.groupState=[],b.$on("pruFinishedRender",function(){b.autofocus&&b.autofocus.index&&$("show-more .module:eq("+b.autofocus.index+")").attr("tabindex",-1).focus()})}}}]).factory("ShowMoreService",["$http","$q","SafeHTML",function(a,b,c){return function(d,e){var f=b.defer();return a({method:"GET",headers:{"X-PruComponentID":"ComponentsLoadMoreJson","Content-Type":"application/json"},url:d,params:e}).success(function(a){function b(a,c){for(var d in a)a.hasOwnProperty(d)&&("object"==typeof a[d]?b(a[d],c):a[d]=c(a[d]))}return"object"==typeof a||a.contents instanceof Array?(a.contents.pop(),b(a.contents,function(a){return c.parse(a)}),void f.resolve(a.contents)):f.resolve([])}).error(function(a){f.reject(a)}),f.promise}}]).filter("arrayGroup",function(){var a=[];return function(b,c){for(var d=-1,e=b.length,f=0;e>f;f++)f%c===0&&(++d in a||(a[d]=[])),f%c in a[d]||a[d].push(b[f]);return a}}),a.element(document).ready(function(){a.pru.bootstrap("show-more",["pru.com.components.show.more"]),document.createElement("show-more")})}(window.angular),function(a){"use strict";var b=a('<div class="outdated-browser-container container" style="margin-top:20px;"><div class="row"><div class="col-sm-12"><div id="outdated-browser" class="alert alert-info alert-dismissible" role="alert"><button type="button" class="close close-alert" ><span aria-hidden="true" class="fa fa-times" ></span><span class="sr-only">Close alert message</span></button><p>We detected your browser is not up-to-date. Old and outdated browser versions have security issues and you may not be able to view or use certain functionality on this site. Update your current browser by selecting the link to the official browser webpage in order to download the latest version.</p><p><a href="https://support.microsoft.com/en-us/help/17621/internet-explorer-downloads" target="_blank" class="btn btn-primary update-browser" style="margin-right:10px;"> Update your browser now <span class="sr-only">Internet Explorer update page opens in a new window</span></a><a class="btn btn-default continue-browsing close-alert" > Continue with current browser</a></p></div></div></div></div>');"false"!==sessionStorage.getItem("outdated-browser-alert")&&a("html").hasClass("lt-ie9")&&(a("body").prepend(b),a("#outdated-browser .close-alert").on("click",function(){sessionStorage.setItem("outdated-browser-alert","false"),a(".outdated-browser-container").hide()}))}(window.jQuery),function(a){"use strict";a(".mol-cta-share").on("click",function(){a(".mol-cta-share").trigger("mol-cta-share-event")}),a(".mol-cta-read").on("click",function(){a(".mol-cta-read").trigger("mol-cta-read-event")})}(window.jQuery),function(a){function b(b){var c=b.parent("li");a(".navtabs>li.active").removeClass("active").find(">a").attr("aria-expanded","false").next(".navpane").attr("aria-hidden","true"),c.addClass("active"),b.attr("aria-expanded","true").next(".navpane").attr("aria-hidden","false")}a(".toggle-nav, #site-overlay").click(function(){a("html, .nav-mobile").toggleClass("nav-mobile-opened")}),a(".navtabs li>a").click(function(){var c=a(this),d=c.closest(".top-nav-item");d.hasClass("active")||b(c)}),a(function(){d.init()});var c=function(a){this.$tabbableEl=a,this.$li=a.parent("li")};c.prototype={getCurrentTier:function(){return this.$li.parent("ul")},isFirstInTier:function(){return this.getCurrentTier().find("li:visible:first")[0]===this.$li[0]},isLastInTier:function(){return this.$li.is(":last-child")},getParentNavTab:function(){return new c(this.getCurrentTier().closest("li").find(">a"))},getFirstChildNavTab:function(){return new c(this.$li.find("li:visible").first().find(">a"))},getPreviousNavTab:function(){return new c(this.$li.prev("li").find(">a"))},getNextNavTab:function(){return new c(this.$li.next("li").find(">a"))},getRootNavTab:function(){return new c(this.$li.closest(".top-nav-item"))},focus:function(){this.$tabbableEl.focus()}};var d={init:function(){a(".navtabs").on("keydown","li > a",d.processKeydown)},processKeydown:function(b){if(b.which in d.keyCodes){var e=new c(a(this));d.keyCodes[b.which].process(e,b),b.preventDefault(),b.stopPropagation()}},keyCodes:{9:{process:function(b,c){if(c.shiftKey)if(b.isFirstInTier()){
var d=b.getParentNavTab();d.length?d.focus():a("#global-links-bar").is(":visible")?a("#global-links-bar").find("a:eq(-1)").focus():a("#pru-logo a").focus()}else b.getPreviousNavTab().focus();else b.isLastInTier()?a("#globalSearch").focus():b.getNextNavTab().focus()}},37:{process:function(a){a.isFirstInTier()||a.getPreviousNavTab().focus()}},38:{process:function(a){a.getParentNavTab().focus()}},39:{process:function(a){a.getNextNavTab().focus()}},40:{process:function(a){var c=a.$li.closest(".top-nav-item");c.find(".secondary-nav-container").addClass("show"),c.siblings().find(".secondary-nav-container").removeClass("show"),c.hasClass("active")||b(a.$tabbableEl),a.getFirstChildNavTab().focus()}}}};a("a#skip").keydown(function(b){var c=b.which,d=b.shiftKey;9!==c||d||(b.preventDefault(),a("#pru-logo").find("a").focus())}),a("#pru-logo>a").keydown(function(b){var c=b.which,d=b.shiftKey;9===c&&(b.preventDefault(),d?a("a#skip").focus():a("#global-links-bar").is(":visible")?a("#global-links-bar").find("a:eq(0)").focus():a("#menu-bars-bars").is(":visible")&&a("#menu-bars-bars").focus())}),a("#menu-bars-bars").keydown(function(b){var c=b.which,d=b.shiftKey;9===c&&(b.preventDefault(),d?a("#pru-logo>a").focus():a("#mobile-buttons").is(":visible")&&a("#mobile-buttons").find("button:visible").eq(0).focus())}),a("#global-links-bar a:eq(0)").keydown(function(b){var c=b.which,d=b.shiftKey;9===c&&d&&(b.preventDefault(),a("#pru-logo>a").focus())}),a("#global-links-bar a:eq(-1)").keydown(function(b){var c=b.which,d=b.shiftKey;9===c&&!d&&a(".navtabs").is(":visible")&&(b.preventDefault(),a(".navtabs>li:eq(0)").find(">a").focus())})}(window.jQuery),function(a){"use strict";a(function(){a('[data-toggle="header-search"]').click(function(){a("#toprow-right").slideToggle(),a(this).toggleClass("active")});var b=!1;a(window).resize(function(){var c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=768>c,e=c>=768&&1200>c,f=c>=1200;e&&!b?(b=!0,a('[data-toggle="header-search"]').removeClass("active"),a("#toprow-right").css("display","block").hide()):d?(b=!1,a("#toprow-right").show().css("display","block")):f&&(b=!1,a("#toprow-right").show().css("display","inline-block")),a("#global-links-bar").css("display",""),a("#site-wrapper").hasClass("show-nav")&&f&&(a("#site-overlay").hide(),a("#menu-bars-bars").show(),a("#site-wrapper").removeClass("show-nav"),a("#header").removeClass("slideright")),a("#site-wrapper").hasClass("show-nav-right")&&f&&(a("#site-overlay").hide(),a("#site-wrapper").removeClass("show-nav-right"),a("#header").removeClass("slideleft"))})})}(window.jQuery);